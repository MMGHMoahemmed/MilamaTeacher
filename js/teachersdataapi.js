// js/teachersdataapi.js

// Global variable to hold the Dexie database instance
var db;

// --- EMBEDDED PROGRAM DATA ---
// IMPORTANT: Replace the empty arrays below with your actual JSON data.
// For demonstration, I'm using the structure you provided.
// In a real application with extensive data, consider loading this from a separate .js file
// or fetching it if it's very large and changes often (though for offline-first, embedding is common).



/* Old Reading Lessons


const initialReadingProgramData = [
  // PASTE YOUR FULL READING PROGRAM JSON DATA HERE
  // Example (truncated, use your full data):
  {
    "unit_id": "الوحدة الأولى",
    "unit_title_ar": "الوحدة الأولى",
    "unit_number": 1,
    "teacher_guide_unit_page_start": 10,
    "unit_objectives_ar": [
      "يتعرف زملائه في المدرسة.",
      "يتعرف مكونات المدرسة."
      // ... more objectives
    ],
    "lessons": [
      {
        "lesson_id": "1-1",
        "lesson_title_ar": "في المدرسة (اليوم الأول)",
        "lesson_sequence_in_unit": 1,
        "teacher_guide_page_start": 13,
        "teacher_guide_page_end": 14,
        "student_book_page_references_ar": "لا يوجد نشاط مباشر في كتاب التلميذ لهذه الأنشطة العامة، ولكنها تهيئة عامة.",
        "estimated_total_lesson_time_minutes": 85, // Sum of activity times (10+15+10+20 + 30 min for transitions/buffer)
        "lesson_objectives_ar": [
          "أن يتعرف التلميذ على زملائه ومعلمه.",
          "أن يتعرف التلميذ على مكونات المدرسة.",
          "أن يشارك التلميذ في ترديد أنشودة بسيطة.",
          "أن يشارك التلميذ في ألعاب منظمة في فناء المدرسة."
        ],
        "materials_needed_ar": [
          "آيات من القرآن الكريم (للبدء)",
          "فناء المدرسة (للأنشطة الحركية)",
          "(اختياري) بطاقات أسماء بسيطة للتعارف",
          "(اختياري) أدوات بسيطة للألعاب"
        ],
        "teaching_focus_ar": "كسر الحاجز، بناء الألفة، التعريف بمكونات المدرسة، التشجيع على المشاركة.",
        "activities": [
          {
            "activity_sequential_id": 1,
            "activity_name_ar": "النشاط (1): التعارف",
            "activity_type": "Introduction",
            "teacher_guide_activity_page": 13,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "استقبل التلاميذ/ التلميذات في باب صفك، وصافح كل واحد منهم، وأنت مبتسم، مقدماً عبارات الترحيب التي تشعرهم بفرحتك، وسعادتك بقدومهم.",
              "ابدأ يومك بتلاوة آيات من القرآن الكريم.",
              "أخبر التلاميذ بأنك ستتعارف معهم وسيتعارفون بينهم.",
              "ابدأ التعريف بنفسك، مشيراً إلى نفسك، وكرر ذلك مرتين.",
              "أطلب إلى التلاميذ القيام والتعريف بأسمائهم، مبتدئاً بالتلاميذ الذين ترى بأنهم أكثر جرأة، وأعد الاسم كاملاً بعد نطقه من التلميذ/ التلميذة وهكذا حتى تنتهي من إجراء التعارف بين التلاميذ.",
              "اشكر التلاميذ، وأشد بأسمائهم."
            ],
            "expected_student_interaction_ar": "يقوم التلاميذ بالتعريف بأنفسهم، ويستمعون لتعريف المعلم وزملائهم.",
            "assessment_notes_ar": [
              "ملاحظة مدى تفاعل التلاميذ ومشاركتهم في نشاط التعارف.",
              "ملاحظة قدرة التلاميذ على ذكر أسمائهم بوضوح."
            ],
            "pedagogical_notes_ar": "الهدف هو كسر الحاجز بين التلاميذ وبين المعلم والتلاميذ أنفسهم، وخلق جو من الألفة والترحيب."

          },
          {
            
            "activity_sequential_id": 2,
            "activity_name_ar": "النشاط (2): تعرف مكونات المدرسة",
            "activity_type": "Exploration/Orientation",
            "teacher_guide_activity_page": 13,
            "estimated_time_activity_minutes": 15,
            "teacher_instructions_ar": [
              "خذ التلاميذ إلى ساحة المدرسة ونظمهم في خطوط مستقيمة.",
              "مارس مع التلاميذ بعض التمارين الرياضية الخاصة بطابور الصباح.",
              "أخبر التلاميذ بأننا سنقوم بجولة ترفيهية نتعرف فيها على مكونات المدرسة.",
              "قد التلاميذ في صف منتظم، وعرفهم بـ: الإدارة المدرسية (المدير، الوكيل، الاختصاصي...الخ)، مكونات المدرسة الأخرى كالحمامات، والمكتبة، وحجرة الاختصاصي، والفصول الدراسية الأخرى.",
              "قدم للتلاميذ تعليمات واضحة عن كيفية استخدام المكونات المادية والآداب التي تمارس، وذلك بتقديم نموذج عملي تطبيقي بعيداً عن الأوامر والتوجيهات اللفظية.",
              "عُد بالتلاميذ إلى الصف الدراسي، وأخبرهم بأهمية المدرسة، وأنه ينبغي أن نحبها ونحافظ عليها كمنازلنا."
            ],
            "expected_student_interaction_ar": "يتجول التلاميذ في المدرسة، يستمعون لتعريف المعلم بالمرافق، ويلاحظون قواعد الاستخدام.",
            "assessment_notes_ar": [
              "ملاحظة انتباه التلاميذ خلال الجولة ومدى استيعابهم للمعلومات عن مرافق المدرسة.",
              "ملاحظة مدى التزامهم بالتعليمات أثناء الجولة."
            ],
            "classroom_management_tips_ar": [
              "التنظيم في صفوف أو خطوط مستقيمة يسهل الحركة والتوجيه."
            ]
          },
          {
            "activity_sequential_id": 3,
            "activity_name_ar": "النشاط (3): أنشودة (هيا هيا يا أصحابي)",
            "activity_type": "Nashid/Chant",
            "teacher_guide_activity_page": 13,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "م: الآن سأقوم بقراءة أنشودة على مسامعكم ملحنة ولابد من مراعاة التوجيهات الآتية: الجلوس في وضع مناسب ومريح، الإنصات الجيد للنشيد، ترديد النشيد معي.",
              "م: أُسمِع التلاميذ النشيد الآتي (يقوم المعلم بإنشاد النشيد كاملاً).",
              "م: الآن سننشد النشيد معاً: أقوم بقراءة النشيد ملحناً والتلاميذ يرددون معي (أكرر النشيد عدة مرات).",
              "م: أطلب إلى التلاميذ ترديد النشيد بمفردهم بصورة جماعية."
            ],
            "expected_student_interaction_ar": "يستمع التلاميذ للنشيد ثم يرددونه مع المعلم بشكل جماعي ثم فردي/جماعي.",
            "content_to_deliver_ar": {
              "nashid_title": "هيا هيا يا أصحابي",
              "nashid_lyrics": "هيا هيا يا أصحابي\nسيروا صفاً للألعاب\nهيا نجري نلعب نمرح\nهيا نرسم هيا نفرح\nهيا هيا يا أصحابي"
            },
            "assessment_notes_ar": [
              "ملاحظة مشاركة التلاميذ في ترديد النشيد ومدى حماسهم."
            ]
          },
          {
            "activity_sequential_id": 4,
            "activity_name_ar": "النشاط (4): اللعب",
            "activity_type": "OrganizedGame",
            "teacher_guide_activity_page": 14,
            "estimated_time_activity_minutes": 20,
            "teacher_instructions_ar": [
              "أخبر التلاميذ بأنك ستلعب معهم مجموعات ألعاب في فناء المدرسة.",
              "أخرجهم في صف منتظم إلى ساحة المدرسة.",
              "نظمهم في دائرة أو دائرتين (بحسب عددهم)، بحيث يكونوا متماسكي الأيدي، واطلب إليهم التحرك من اليمين إلى اليسار، ثم العكس، مارس ذلك معهم مرة أو مرتين، وعند انتهاء اللعبة قدم لهم تحيتك، واطلب إليهم تحية أنفسهم.",
              "ضع بداية ونهاية لمسابقة جري بين التلاميذ وقدم لهم التعليمات، بحيث يجري كل اثنين معاً، بعد أن يختار التلميذ زميله.",
              "اكتف بالتعليق على ممارسة المسابقة فقط دون أن تشعر أحدهم بالفوز أو الخسارة؛ لأنه نشاط ترفيهي فقط.",
              "اختتم النشاط بالسماح للتلاميذ بممارسة ألعاب حرة، واشرف عليهم لتأمين سلامتهم، مراعياً حالات الطقس في اختيار مكان مناسب للمارسة اللعب.",
              "اختتم النشاط بشكر التلاميذ، ثم الذهاب إلى الصف منتظمين."
            ],
            "expected_student_interaction_ar": "يشارك التلاميذ في الألعاب المنظمة والألعاب الحرة مع الالتزام بقواعد السلامة.",
            "assessment_notes_ar": [
              "ملاحظة تفاعل التلاميذ واندماجهم في الألعاب.",
              "ملاحظة مدى التزامهم بقواعد اللعب والتعليمات."
            ],
            "classroom_management_tips_ar": [
              "التأكيد على أهمية اللعب النظيف والروح الرياضية."
            ]
          },
          // ... more activities
        ]
      },

      // ... more lessons
    ]
  }
  // ... more units if any
];



 */


const initialReadingProgramData = [
  // PASTE YOUR FULL READING PROGRAM JSON DATA HERE
  // Example (truncated, use your full data):

  {
    "unit_id": "الوحدة الأولى",
    "unit_title_ar": "الوحدة الأولى",
    "unit_number": 1,
    "teacher_guide_unit_page_start": 10,
    "unit_objectives_ar": [
      "يتعرف زملائه في المدرسة.",
      "يتعرف مكونات المدرسة.",
      "يصف ما يلاحظه وصفًا صحيحًا.",
      "يميز الأصوات المسموعة تمييزا دقيقًا.",
      "يربط بين أشياء معروضة بعلاقات مناسبة.",
      "يصدر أحكامًا صحيحة على سلوكات تعبر عن مواقف ملاحظة / مسموعة.",
      "يستمع جيدا للأناشيد المسموعة والقصص الاستماعية.",
      "يقرأ اسمه بصورة صحيحة.",
      "يرسم خطوطًا وأشكالاً رسما صحيحا بمفرده.",
      "يُلوّن الأشكال ويُميزها."
    ],
    "lessons": [
      {
        "lesson_id": "1-1",
        "lesson_title_ar": "في المدرسة (اليوم الأول)",
        "lesson_sequence_in_unit": 1,
        "teacher_guide_page_start": 13,
        "teacher_guide_page_end": 14,
        "student_book_page_references_ar": "لا يوجد نشاط مباشر في كتاب التلميذ لهذه الأنشطة العامة، ولكنها تهيئة عامة.",
        "estimated_total_lesson_time_minutes": 85,
        "lesson_objectives_ar": [
          "أن يتعرف التلميذ على زملائه ومعلمه.",
          "أن يتعرف التلميذ على مكونات المدرسة.",
          "أن يشارك التلميذ في ترديد أنشودة بسيطة.",
          "أن يشارك التلميذ في ألعاب منظمة في فناء المدرسة."
        ],
        "materials_needed_ar": [
          "آيات من القرآن الكريم (للبدء)",
          "فناء المدرسة (للأنشطة الحركية)",
          "(اختياري) بطاقات أسماء بسيطة للتعارف",
          "(اختياري) أدوات بسيطة للألعاب"
        ],
        "teaching_focus_ar": "كسر الحاجز، بناء الألفة، التعريف بمكونات المدرسة، التشجيع على المشاركة.",
        "activities": [
          {
            "activity_sequential_id": 1,
            "activity_name_ar": "النشاط (1): التعارف",
            "activity_type": "Introduction",
            "teacher_guide_activity_page": 13,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "استقبل التلاميذ/ التلميذات في باب صفك، وصافح كل واحد منهم، وأنت مبتسم، مقدماً عبارات الترحيب التي تشعرهم بفرحتك، وسعادتك بقدومهم.",
              "ابدأ يومك بتلاوة آيات من القرآن الكريم.",
              "أخبر التلاميذ بأنك ستتعارف معهم وسيتعارفون بينهم.",
              "ابدأ التعريف بنفسك، مشيراً إلى نفسك، وكرر ذلك مرتين.",
              "أطلب إلى التلاميذ القيام والتعريف بأسمائهم، مبتدئاً بالتلاميذ الذين ترى بأنهم أكثر جرأة، وأعد الاسم كاملاً بعد نطقه من التلميذ/ التلميذة وهكذا حتى تنتهي من إجراء التعارف بين التلاميذ.",
              "اشكر التلاميذ، وأشد بأسمائهم."
            ],
            "expected_student_interaction_ar": "يقوم التلاميذ بالتعريف بأنفسهم، ويستمعون لتعريف المعلم وزملائهم.",
            "assessment_notes_ar": [
              "ملاحظة مدى تفاعل التلاميذ ومشاركتهم في نشاط التعارف.",
              "ملاحظة قدرة التلاميذ على ذكر أسمائهم بوضوح."
            ],
            "pedagogical_notes_ar": "الهدف هو كسر الحاجز بين التلاميذ وبين المعلم والتلاميذ أنفسهم، وخلق جو من الألفة والترحيب."
          },
          {
            "activity_sequential_id": 2,
            "activity_name_ar": "النشاط (2): تعرف مكونات المدرسة",
            "activity_type": "Exploration/Orientation",
            "teacher_guide_activity_page": 13,
            "estimated_time_activity_minutes": 15,
            "teacher_instructions_ar": [
              "خذ التلاميذ إلى ساحة المدرسة ونظمهم في خطوط مستقيمة.",
              "مارس مع التلاميذ بعض التمارين الرياضية الخاصة بطابور الصباح.",
              "أخبر التلاميذ بأننا سنقوم بجولة ترفيهية نتعرف فيها على مكونات المدرسة.",
              "قد التلاميذ في صف منتظم، وعرفهم بـ: الإدارة المدرسية (المدير، الوكيل، الاختصاصي...الخ)، مكونات المدرسة الأخرى كالحمامات، والمكتبة، وحجرة الاختصاصي، والفصول الدراسية الأخرى.",
              "قدم للتلاميذ تعليمات واضحة عن كيفية استخدام المكونات المادية والآداب التي تمارس، وذلك بتقديم نموذج عملي تطبيقي بعيداً عن الأوامر والتوجيهات اللفظية.",
              "عُد بالتلاميذ إلى الصف الدراسي، وأخبرهم بأهمية المدرسة، وأنه ينبغي أن نحبها ونحافظ عليها كمنازلنا."
            ],
            "expected_student_interaction_ar": "يتجول التلاميذ في المدرسة، يستمعون لتعريف المعلم بالمرافق، ويلاحظون قواعد الاستخدام.",
            "assessment_notes_ar": [
              "ملاحظة انتباه التلاميذ خلال الجولة ومدى استيعابهم للمعلومات عن مرافق المدرسة.",
              "ملاحظة مدى التزامهم بالتعليمات أثناء الجولة."
            ],
            "classroom_management_tips_ar": [
              "التنظيم في صفوف أو خطوط مستقيمة يسهل الحركة والتوجيه."
            ]
          },
          {
            "activity_sequential_id": 3,
            "activity_name_ar": "النشاط (3): أنشودة (هيا هيا يا أصحابي)",
            "activity_type": "Nashid/Chant",
            "teacher_guide_activity_page": 13,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "م: الآن سأقوم بقراءة أنشودة على مسامعكم ملحنة ولابد من مراعاة التوجيهات الآتية: الجلوس في وضع مناسب ومريح، الإنصات الجيد للنشيد، ترديد النشيد معي.",
              "م: أُسمِع التلاميذ النشيد الآتي (يقوم المعلم بإنشاد النشيد كاملاً).",
              "م: الآن سننشد النشيد معاً: أقوم بقراءة النشيد ملحناً والتلاميذ يرددون معي (أكرر النشيد عدة مرات).",
              "م: أطلب إلى التلاميذ ترديد النشيد بمفردهم بصورة جماعية."
            ],
            "expected_student_interaction_ar": "يستمع التلاميذ للنشيد ثم يرددونه مع المعلم بشكل جماعي ثم فردي/جماعي.",
            "content_to_deliver_ar": {
              "nashid_title": "هيا هيا يا أصحابي",
              "nashid_lyrics": "هيا هيا يا أصحابي\nسيروا صفاً للألعاب\nهيا نجري نلعب نمرح\nهيا نرسم هيا نفرح\nهيا هيا يا أصحابي"
            },
            "assessment_notes_ar": [
              "ملاحظة مشاركة التلاميذ في ترديد النشيد ومدى حماسهم."
            ]
          },
          {
            "activity_sequential_id": 4,
            "activity_name_ar": "النشاط (4): اللعب",
            "activity_type": "OrganizedGame",
            "teacher_guide_activity_page": 14,
            "estimated_time_activity_minutes": 20,
            "teacher_instructions_ar": [
              "أخبر التلاميذ بأنك ستلعب معهم مجموعات ألعاب في فناء المدرسة.",
              "أخرجهم في صف منتظم إلى ساحة المدرسة.",
              "نظمهم في دائرة أو دائرتين (بحسب عددهم)، بحيث يكونوا متماسكي الأيدي، واطلب إليهم التحرك من اليمين إلى اليسار، ثم العكس، مارس ذلك معهم مرة أو مرتين، وعند انتهاء اللعبة قدم لهم تحيتك، واطلب إليهم تحية أنفسهم.",
              "ضع بداية ونهاية لمسابقة جري بين التلاميذ وقدم لهم التعليمات، بحيث يجري كل اثنين معاً، بعد أن يختار التلميذ زميله.",
              "اكتف بالتعليق على ممارسة المسابقة فقط دون أن تشعر أحدهم بالفوز أو الخسارة؛ لأنه نشاط ترفيهي فقط.",
              "اختتم النشاط بالسماح للتلاميذ بممارسة ألعاب حرة، واشرف عليهم لتأمين سلامتهم، مراعياً حالات الطقس في اختيار مكان مناسب للمارسة اللعب.",
              "اختتم النشاط بشكر التلاميذ، ثم الذهاب إلى الصف منتظمين."
            ],
            "expected_student_interaction_ar": "يشارك التلاميذ في الألعاب المنظمة والألعاب الحرة مع الالتزام بقواعد السلامة.",
            "assessment_notes_ar": [
              "ملاحظة تفاعل التلاميذ واندماجهم في الألعاب.",
              "ملاحظة مدى التزامهم بقواعد اللعب والتعليمات."
            ],
            "classroom_management_tips_ar": [
              "التأكيد على أهمية اللعب النظيف والروح الرياضية."
            ]
          }
        ]
      },
      {
        "lesson_id": "1-2",
        "lesson_title_ar": "في المدرسة (اليوم الثاني)",
        "lesson_sequence_in_unit": 2,
        "teacher_guide_page_start": 15,
        "teacher_guide_page_end": 16,
        "student_book_page_references_ar": "لا يوجد نشاط مباشر في كتاب التلميذ لهذه الأنشطة العامة، ولكنها تهيئة عامة.",
        "estimated_total_lesson_time_minutes": 85,
        "lesson_objectives_ar": [
          "أن يعزز التلميذ معرفته بزملائه.",
          "أن يتعرف التلميذ على المزيد من مرافق المدرسة وكيفية استخدامها.",
          "أن يشارك التلميذ في ترديد أنشودة (هيا هيا يا أصحابي) بحماس.",
          "أن يشارك التلميذ في ألعاب منظمة ومتنوعة في فناء المدرسة."
        ],
        "materials_needed_ar": [
          "آيات من القرآن الكريم",
          "فناء المدرسة",
          "علب فارغة وكرة تنس صغيرة (للعبة القناص)",
          "أدوات ألعاب أخرى حسب خبرة المعلم (كرة يد، كرة قدم، الخ)"
        ],
        "teaching_focus_ar": "تعزيز الألفة، استكشاف المدرسة، المشاركة الجماعية، اللعب المنظم.",
        "activities": [
          {
            "activity_sequential_id": 1,
            "activity_name_ar": "النشاط (1): التعارف",
            "activity_type": "Introduction/Reinforcement",
            "teacher_guide_activity_page": 15,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "استقبل التلاميذ / التلميذات في باب صفك، وصافح كل واحد منهم، وأنت مبتسم، مقدماً عبارات الترحيب التي تشعرهم بفرحتك، وسعادتك بقدومهم.",
              "ابدأ يومك بتلاوة آيات من القرآن الكريم.",
              "اطلب إلى كل تلميذ أن يعرف بزميل له يعرفه من قبل أو عرفه في اليوم السابق ويمكنك توجيه السؤال الآتي: - اذكر اسم تلميذ من زملائك تعرف اسمه وأشر إليه.",
              "اشكر التلاميذ، وأشد بأسمائهم."
            ],
            "expected_student_interaction_ar": "يقوم التلاميذ بالتعريف بزميل لهم، مما يعزز التعارف بينهم.",
            "assessment_notes_ar": [
              "ملاحظة قدرة التلاميذ على تذكر أسماء زملائهم.",
              "ملاحظة مدى التفاعل الإيجابي بين التلاميذ."
            ]
          },
          {
            "activity_sequential_id": 2,
            "activity_name_ar": "النشاط (2): تعرف مكونات المدرسة",
            "activity_type": "Exploration/Orientation",
            "teacher_guide_activity_page": 15,
            "estimated_time_activity_minutes": 15,
            "teacher_instructions_ar": [
              "أخبر التلاميذ بأننا سنقوم بجولة ترفيهية حتى نتعرف أكثر على مرافق المدرسة وكيفية استخدامها.",
              "خذ التلاميذ إلى ساحة المدرسة ونظمهم في خطوط مستقيمة.",
              "مارس مع التلاميذ بعض التمارين الرياضية الخاصة بطابور الصباح.",
              "قد التلاميذ في صف منتظم، واطلب إليهم التعريف بـ: الإدارة المدرسية (المدير، الوكيل، الاختصاصي... الخ)، مكونات المدرسة الأخرى كالحمامات، والمكتبة، وحجرة الاختصاصي، والفصول الدراسية الأخرى.",
              "اطلب إلى أحد التلاميذ إعادة بعض التعليمات التي قمت بتوضيحها في اليوم السابق في أحد مرافق المدرسة.",
              "عُد بالتلاميذ إلى الصف الدراسي، وأكّد لهم أهمية المدرسة، وأنه ينبغي أن نحبها ونحافظ عليها كمنازلنا."
            ],
            "expected_student_interaction_ar": "يتجول التلاميذ في المدرسة، ويشارك بعضهم في إعادة التعليمات حول استخدام المرافق.",
            "assessment_notes_ar": [
              "ملاحظة مدى تذكر التلاميذ للمعلومات من اليوم السابق.",
              "ملاحظة قدرتهم على شرح التعليمات."
            ],
            "classroom_management_tips_ar": [
              "التأكيد على النظام أثناء الجولة."
            ]
          },
          {
            "activity_sequential_id": 3,
            "activity_name_ar": "النشاط (3): أنشودة (هيا هيا يا أصحابي)",
            "activity_type": "Nashid/Chant",
            "teacher_guide_activity_page": 15,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "م: الآن سأقوم بقراءة أنشودة على مسامعكم ملحنة ولابد من مراعاة التوجيهات الآتية: الجلوس في وضع مناسب ومريح، الإنصات الجيد للنشيد، ترديد النشيد معي.",
              "م: أُسمِع التلاميذ النشيد الآتي.",
              "م: الآن سننشد النشيد معاً: أقوم بقراءة النشيد ملحناً والتلاميذ يرددون معي (أكرر النشيد عدة مرات).",
              "م: أطلب إلى التلاميذ ترديد النشيد بمفردهم بصورة جماعية."
            ],
            "expected_student_interaction_ar": "يستمع التلاميذ للنشيد ثم يرددونه مع المعلم بشكل جماعي ثم فردي/جماعي.",
            "content_to_deliver_ar": {
              "nashid_title": "هيا هيا يا أصحابي",
              "nashid_lyrics": "هيا هيا يا أصحابي\nسيروا صفاً للألعاب\nهيا نجري نلعب نمرح\nهيا نرسم هيا نفرح\nهيا هيا يا أصحابي"
            },
            "assessment_notes_ar": [
              "ملاحظة استمرار حماس التلاميذ للمشاركة في ترديد النشيد."
            ]
          },
          {
            "activity_sequential_id": 4,
            "activity_name_ar": "النشاط (4): اللعب (لعبة الضفادع ولعبة القناص)",
            "activity_type": "OrganizedGame",
            "teacher_guide_activity_page": 16,
            "estimated_time_activity_minutes": 20,
            "teacher_instructions_ar": [
              "أخبر التلاميذ بأنك ستلعب معهم مجموعات ألعاب في ساحة المدرسة.",
              "أخرجهم في صف منتظم إلى ساحة المدرسة.",
              "اللعبة الأولى: (لعبة الضفادع): ينظم المعلم التلاميذ لتشجيع المتسابق الفائز. يتقدم خمسة متسابقين من التلاميذ حسب رغبتهم في المشاركة. يجلس الخمسة جلسة الضفدع على أقدامهم، ثم يصفر المعلم لبدء المسابقة. يقفز التلاميذ الخمسة بوضعية الجلوس حتى خط النهاية والفائز من يصل إلى خط النهاية دون أن يسقط على الأرض. اكتف بتشجيع المتسابقين دون أن تشعر أحدهم بالفوز أو الخسارة؛ لأنهم يلعبون فقط. شارك التلاميذ فرحهم وحماسهم في اللعب. كرر اللعبة مع تلاميذ آخرين حسب رغبتهم في استمرار اللعبة.",
              "اللعبة الثانية: (لعبة القناص): أحضر (٥) علب فارغة (علب فاصوليا مثلاً) أو أكثر، وكرة تنس صغيرة. ضع العلب فوق بعض على شكل هرم. نظم التلاميذ في فريقين، ثم اختر من الفريق الأول أحد التلاميذ للقنص. يقوم التلميذ من الفريق الأول برمي الكرة باتجاه العلب. تسجل النقاط حسب عدد العلب التي سقطت على الأرض، ثم يقوم تلميذ آخر من الفريق الثاني برمي الكرة. كرر اللعبة عدة مرات باختيار (۷) تلاميذ من الفريق الأول ومثلهم من الفريق الثاني. احرص أن يكون هناك نوع من الانسجام والتشجيع المرح من قبل التلاميذ لبعضهم البعض وشاركهم المرح أثناء ممارسة اللعبة. اكتف بالتعليق على ممارسة المسابقة فقط دون أن تشعر أحدهم بالفوز أو الخسارة؛ لأنهم يلعبون فقط. استمر باللعبة بحسب رغبة التلاميذ في المتابعة. نوع في الألعاب حسب خبراتك في هذا المجال (كرة يد - كرة قدم .... الخ).",
              "إذا كان هناك متسع من الوقت اسمح للتلاميذ بممارسة ألعاب حرة، واشرف عليهم لتأمين سلامتهم، مراعياً حالات الطقس في اختيار مكان مناسب للممارسة اللعب، وصلاحيته.",
              "اختم النشاط بشكر التلاميذ، ثم الذهاب إلى الصف منتظمين."
            ],
            "expected_student_interaction_ar": "يشارك التلاميذ في لعبة الضفادع ولعبة القناص، ثم في ألعاب حرة إذا سمح الوقت، مع الالتزام بقواعد اللعب.",
            "assessment_notes_ar": [
              "ملاحظة مدى تفاعل التلاميذ ومشاركتهم في الألعاب المختلفة.",
              "ملاحظة التزامهم بالتعليمات واللعب النظيف."
            ],
            "classroom_management_tips_ar": [
              "التنويع في الألعاب يحافظ على حماس التلاميذ.",
              "التأكيد على السلامة أثناء اللعب."
            ]
          }
        ]
      },
      {
        "lesson_id": "1-3",
        "lesson_title_ar": "تمييز الحيوانات والطيور (بصراً وسماعاً)",
        "lesson_sequence_in_unit": 3,
        "teacher_guide_page_start": 17,
        "teacher_guide_page_end": 20,
        "student_book_page_references_ar": "الدرس (١-١) في كتاب التلميذ.",
        "estimated_total_lesson_time_minutes": 90,
        "lesson_objectives_ar": [
          "أن يتعرف التلميذ على أسماء بعض الحيوانات والطيور بصرياً.",
          "أن يميز التلميذ أصوات بعض الحيوانات والطيور سماعياً ويربطها بصورها.",
          "أن يدرك التلميذ العلاقات بين الحيوانات وصغارها.",
          "أن يردد التلميذ أنشودة (ماما) مع المعلم.",
          "أن يتحدث التلميذ عن صورة (الأسرة وهم يأكلون).",
          "أن يلون التلميذ شكل (الوردة) بألوان مناسبة.",
          "أن يتدرب التلميذ على الجلسة الصحيحة ومسك القلم والكتابة في خطوط عشوائية."
        ],
        "materials_needed_ar": [
          "صور حيوانات وطيور (معروضة أو في الكتاب)",
          "جهاز تسجيل أو وسيلة لإسماع أصوات الحيوانات والطيور",
          "أقلام تلوين",
          "كتاب التلميذ"
        ],
        "teaching_focus_ar": "التمييز البصري والسماعي للحيوانات والطيور، إدراك العلاقات، التعبير الشفهي، مهارات ما قبل الكتابة.",
        "activities": [
          {
            "activity_sequential_id": 1,
            "activity_name_ar": "النشاط (1): تعرف الحيوانات والطيور وتمييزها بصرياً",
            "activity_type": "VisualDiscrimination",
            "teacher_guide_activity_page": 17,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "م: أسأل التلاميذ عن أسماء حيوانات أو طيور شاهدوها، أو عرفوا أسماءها من قبل.",
              "م: أنظم تلاميذ الصف في مجموعتين أفقيتين، وأقف أمام المجموعة الأولى، وأشير إلى الصورة الأولى (المعزة) وأسميها قائلاً: هذه صورة معزة، أكرر ذلك مرتين، وهكذا مع بقية الصور صورة فصورة من أعلى إلى أسفل، (كلب، قط، عصفور، دجاجة، ديك)، ثم أقف في منتصف الصف أمام المجموعة الثانية وأكرر الإجراءات نفسها.",
              "م: أوجه التلاميذ إلى فتح كتبهم وأقف في منتصف الصف، وأشير إلى الصورة الأولى وأطلب إليهم وضع أصابعهم على الصورة نفسها وتسميتها (معزة) وهكذا مع بقية الصور صورة فصورة من أعلى إلى أسفل.",
              "ت: يشيرون إلى الصورة ويسمونها: (معزة، كلب، قط، عصفور، دجاجة، ديك).",
              "م: أشير إلى كل صورة بشكل عشوائي، وأطلب إلى التلاميذ تسميتها.",
              "إذا كان عدد التلاميذ قليلاً لا داعي لتنظيم التلاميذ في مجموعات."
            ],
            "expected_student_interaction_ar": "يتعرف التلاميذ على صور الحيوانات والطيور ويسمونها.",
            "assessment_notes_ar": [
              "ملاحظة قدرة التلاميذ على تسمية الحيوانات والطيور بشكل صحيح.",
              "ملاحظة مدى تفاعلهم مع النشاط."
            ],
            "pedagogical_notes_ar": "الزمن (۲۰) دقيقة مخصص للنشاطين الأول والثاني معاً."
          },
          {
            "activity_sequential_id": 2,
            "activity_name_ar": "النشاط (2): تمييز أصوات الحيوانات والطيور سماعاً",
            "activity_type": "AuditoryDiscrimination",
            "teacher_guide_activity_page": 17,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "م: أسمع التلاميذ صوت البقرة أو طائر اليمامة، ثم أذكر لهم اسم الحيوان أو الطائر الذي أسمعتهم صوته، وأتوصل معهم إلى أن النشاط الحالي سيكون تمييز أصوات الحيوانات والطيور سماعاً.",
              "م: أُسمع التلاميذ أصوات الحيوانات والطيور مباشرة أو باستخدام جهاز تسجيل، وأقول: هذا صوت (العصفور) ثم أشير إلى صورة العصفور في الكتاب، أكرر هذا الإجراء مع بقية الصور، بالترتيب: (ديك، دجاجة، كلب، قط، ماعز).",
              "م: أُسمع التلاميذ أصوات الحيوانات والطيور مباشرة أو باستخدام جهاز تسجيل، وأطلب إليهم تحديد اسم صاحب الصوت، ثم الإشارة إلى صورته في كتبهم، أكرر هذا الإجراء مع بقية الصور بالترتيب.",
              "ت: يسمون صاحب الصوت ثم يشيرون إلى صورته في الكتاب (عصفور، ديك، دجاجة، كلب، قط، معزة).",
              "م: أعرض أصوات الحيوانات والطيور بشكل عشوائي، وأطلب إلى التلاميذ تحديد اسم صاحب الصوت ثم الإشارة إلى صورته في الكتاب.",
              "ت: يسمون صاحب الصوت ثم يشيرون إلى صورته في كتبهم.",
              "م: أطلب لمن يرغب من التلاميذ محاكاة أصوات الطيور والحيوانات التي استمعوا إليها، وأقدم التغذية الراجعة بأسلوب (دوري، دوركم)."
            ],
            "expected_student_interaction_ar": "يستمع التلاميذ لأصوات الحيوانات والطيور، يميزونها، ويربطونها بصورها، ويحاكون بعض الأصوات.",
            "assessment_notes_ar": [
              "ملاحظة قدرة التلاميذ على تمييز الأصوات وربطها بالصور الصحيحة.",
              "تشجيع محاولات المحاكاة."
            ]
          },
          {
            "activity_sequential_id": 3,
            "activity_name_ar": "النشاط (3): التمييز البصري، وإدراك العلاقات بين الحيوانات وصغارها",
            "activity_type": "VisualDiscrimination/Relationship",
            "teacher_guide_activity_page": 18,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "م: أسأل التلاميذ عن صغار بعض الحيوانات التي سبق لهم مشاهدتها أو تعرفها في بيئتهم.",
              "م: أنظم تلاميذ الصف في مجموعتين أفقيتين أو أكثر.",
              "م: أقف أمام المجموعة الأولى وأشير إلى صور الحيوانات والطيور وصغارها وأسميها، ثم أصل بين الحيوان أو الطائر وصغيره بخط صورة فصورة: (الدجاجة وصغيرها)، (القطة وصغيرها)، (البقرة وصغيرها).",
              "م: أكرر الإجراءات السابقة مع مجموعات التلاميذ الأخرى.",
              "م: أوجه التلاميذ إلى فتح كتبهم، وأشير إلى الصورة الأولى، وأطلب إليهم وضع أصابعهم على الصورة نفسها وتسميتها، ثم أطلب إليهم توصيل خط بين الحيوان وصغيره.",
              "ت: يصلون بخط بين الحيوانات/ الطيور وصغارها (الدجاجة وصغيرها، القطة وصغيرها، البقرة وصغيرها).",
              "م: ألاحظ إجابات التلاميذ ثم أصوب الإجابات الخطأ بأسلوب: (دوري، دوركم)."
            ],
            "expected_student_interaction_ar": "يصل التلاميذ بين صور الحيوانات وصغارها.",
            "assessment_notes_ar": [
              "ملاحظة قدرة التلاميذ على إدراك العلاقة بين الحيوان وصغيره."
            ]
          },
          {
            "activity_sequential_id": 4,
            "activity_name_ar": "النشاط (4): أنشودة ماما",
            "activity_type": "Nashid/Chant",
            "teacher_guide_activity_page": 18,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "م: الآن سأقوم بقراءة أنشودة على مسامعكم ملحنة ولابد من مراعاة التوجيهات الآتية: الجلوس في وضع مناسب ومريح، الإنصات الجيد للنشيد، ترديد النشيد معي.",
              "م: أُسمِع التلاميذ النشيد الآتي:",
              "م: الآن سننشد النشيد معاً: أقوم بقراءة النشيد ملحناً والتلاميذ يرددون معي (أكرر النشيد عدة مرات).",
              "م: أطلب إلى التلاميذ ترديد النشيد بمفردهم بصورة جماعية."
            ],
            "expected_student_interaction_ar": "يستمع التلاميذ ويرددون أنشودة ماما.",
            "content_to_deliver_ar": {
              "nashid_title": "ماما ماما",
              "nashid_lyrics": "ماما ماما يا أنغاما\nتملأ قلبي بندى الحب\nأنت نشيدي عيدك عيدي\nبسمة أمي سر وجودي"
            },
            "assessment_notes_ar": [
              "ملاحظة مشاركة التلاميذ وتفاعلهم مع الأنشودة."
            ]
          },
          {
            "activity_sequential_id": 5,
            "activity_name_ar": "النشاط (5): التحدث: (الأسرة وهم يأكلون)",
            "activity_type": "Discussion/OralExpression",
            "teacher_guide_activity_page": 18,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "م: أطلب إليهم فتح كتبهم على صورة التحدث.",
              "ت: التلاميذ يفتحون كتبهم على صورة التحدث.",
              "م: أمر بين التلاميذ للتأكد أنهم فتحوا كتبهم على صورة التحدث.",
              "م: أناقش التلاميذ في مضمون الصورة مستعيناً بالأسئلة الآتية:",
              "م: أوجههم إلى التحدث عن الصورة لأسرهم."
            ],
            "expected_student_interaction_ar": "يتحدث التلاميذ عن الصورة ويجيبون على أسئلة المعلم.",
            "content_to_deliver_ar": {
              "discussion_questions": [
                "ماذا تشاهدون في الصورة؟ (ت: أفراد الأسرة.)",
                "اذكر أفراد الأسرة في الصورة؟ (ت: الأم، الأب، الجد، الجدة، البنت، الولد.)",
                "ماذا تفعل الأسرة؟ (ت: تتناول الطعام.)",
                "ماذا نقول قبل البدء بتناول الطعام؟ (ت: بسم الله.)",
                "ماذا نقول بعد الانتهاء من الطعام؟ (ت: الحمد لله.)"
              ]
            },
            "assessment_notes_ar": [
              "ملاحظة قدرة التلاميذ على التعبير عن أفكارهم شفهياً.",
              "تشجيع المشاركة من جميع التلاميذ."
            ]
          },
          {
            "activity_sequential_id": 6,
            "activity_name_ar": "النشاط (6): التلوين (الوردة)",
            "activity_type": "Coloring",
            "teacher_guide_activity_page": 19,
            "estimated_time_activity_minutes": 15,
            "teacher_instructions_ar": [
              "م: أطلب إلى التلاميذ الجلوس بطريقة صحيحة، استعداداً للتلوين، وألاحظ طريقة جلوسهم.",
              "م: سنقوم اليوم بتلوين الشكل (الوردة).",
              "م: أعرض نموذج تلوين شكل (الوردة) على وسيلة، أو على السبورة.",
              "م: أشير إلى الصورة، وأقول هذه صورة (وردة) وأكرر ذلك مرتين.",
              "م: سأقوم بتلوين صورة الوردة.",
              "م: ألون صورة الوردة باللون المناسب.",
              "م: أطلب إلى التلاميذ فتح كتبهم على الشكل المطلوب تلوينه (الوردة).",
              "م: الآن: ستقومون بمفردكم بتلوين شكل (الوردة).",
              "م: أوجه التلاميذ إلى مسك الأقلام بطريقة صحيحة وأختار اللون المناسب.",
              "ت: يبدأ التلاميذ بتلوين صورة الوردة.",
              "م: أمر بين التلاميذ لمتابعتهم وتقديم المساعدة اللازمة."
            ],
            "expected_student_interaction_ar": "يلون التلاميذ صورة الوردة في كتبهم.",
            "assessment_notes_ar": [
              "ملاحظة التزام التلاميذ بالتلوين داخل الحدود.",
              "ملاحظة اختيارهم للألوان (إذا كان هناك توجيه)."
            ]
          },
          {
            "activity_sequential_id": 7,
            "activity_name_ar": "النشاط (7): التهيئة الكتابية: (الكتابة في خطوط عشوائية)",
            "activity_type": "PreWriting",
            "teacher_guide_activity_page": 19,
            "estimated_time_activity_minutes": 15,
            "teacher_instructions_ar": [
              "أ - الجلسة الصحيحة: تقديم النشاط: م: الجلوس والكتابة حركات يومية نقوم بها في حياتنا ولكن لا نعلم الأوضاع الصحيحة لتأدية هذه الحركات، ونقوم بأدائها بشكل خطأ قد يضر بجسدنا، واليوم سنتدرب على كيفية الجلسة الصحيحة على الكرسي ومسك القلم بالطريقة الصحيحة ورسم الخط المستقيم.",
              "نموذج (دوري): م: أجلس أمام التلاميذ على الكرسي بطريقة خطأ، وأقول هذه الجلسة خطأ ولا يجب أن نقوم بمثلها؛ لأنها تضر بصحتنا وبجسدنا. م: أجلس على الكرسي الجلسة الصحيحة، وأقول: هذه هي الجلسة الصحيحة و الآن انظروا إلي كيف أجلس على الكرسي وظهري مائل قليلاً للأمام استعداداً للكتابة.",
              "ممارسة موجهة (دورنا): م: أطلب إلى التلاميذ فتح كتبهم على الصفحة المطلوبة للكتابة، ثم أمر بين التلاميذ للتأكد ذلك. م: أقول للتلاميذ: الآن سنقوم بتطبيق الجلسة الصحيحة أثناء الكتابة. م ت: نقوم بتطبيق جميع الخطوات للجلسة الصحيحة مع بعض في آن واحد: نجلس وأظهرنا في حالة ميل بسيط للأمام؛ ولا تكون أظهرنا مقوسة للأمام بشكل كبير أو لأحد الجانبين أو للخلف.",
              "ممارسة مستقلة (دوركم): م: الآن ستقومون بتطبيق خطوات الجلسة السليمة بمفردكم. ت: يقومون بتطبيق الجلسة السليمة.",
              "ب - مسك القلم بطريقة صحيحة والكتابة في خطوط عشوائية: (تستكمل في الصفحة التالية - صفحة 20)",
              "نموذج (دوري): م: أقوم بمسك القلم بطريقة خطأ، وأقول هذه المسكة خطأ؛ لأنها تسبب آلاما لأصابع اليد وتضر بها. م: وأقوم بمسك القلم بطريقة صحيحة وأقول هذه مسكة صحيحة، ثم أمسك القلم وأقول لهم: سأطبق الآن المسكة الصحيحة، وأضع قلمي في يدي ثم أضغط بالأصابع على القلم هكذا، أحرك قلمي وأبدأ الكتابة من اليمين إلى اليسار هكذا.",
              "م: (أدير ظهري للتلاميذ في أثناء تقديم المثال). أحرك قلمي على السبورة من اليمين إلى اليسار في خطوط عشوائية هكذا. وفي كل مرة أوضح من أين أبدأ، وأين أنتهي.",
              "ممارسة موجهة (دورنا): م: أطلب إلى التلاميذ فتح كتبهم على الصفحة المطلوبة، ثم أمر بين التلاميذ للتأكد ذلك. م: أقول للتلاميذ: الآن سنقوم بتطبيق مسكة القلم بالطريقة الصحيحة. م ت: نقوم بتطبيق جميع الخطوات لمسكة القلم معاً. م ت: والآن ستكملون معي رسم الخطوط من اليمين إلى اليسار هكذا.",
              "ممارسة مستقلة (دوركم): م: الآن ستقومون بتطبيق مسكة القلم بمفردكم وبصورة صحيحة، وستكملون الخطوط بمفردكم مع مراعاة الجلسة الصحيحة أثناء الكتابة. ت: يبدأ التلاميذ بتطبيق الجلسة الصحيحة ومسكة القلم بصورة صحيحة وتنفيذ النشاط والبدء بالرسم.",
              "م: أمر للمتابعة، وتقديم الدعم.",
              "تطبيق: م: أطلب إلى التلاميذ ممارسة مسكة القلم والرسم، فإذا لاحظت قصوراً لدى تلميذ عند المتابعة والتصويب أوظف أسلوب (دوري، دوركم). م: أمر بين التلاميذ لتقديم التغذية الراجعة. م: أوجه التلاميذ إلى تطبيق ما تدربوا عليه في منازلهم."
            ],
            "expected_student_interaction_ar": "يتدرب التلاميذ على الجلوس الصحيح ومسك القلم، ثم يرسمون خطوطاً عشوائية.",
            "assessment_notes_ar": [
              "ملاحظة تطبيق التلاميذ للجلسة الصحيحة ومسكة القلم.",
              "متابعة رسم الخطوط وتقديم الدعم."
            ],
            "pedagogical_notes_ar": "هذا النشاط يمتد إلى صفحة 20 من دليل المعلم."
          }
        ]
      },
      {
        "lesson_id": "1-4",
        "lesson_title_ar": "تمييز الأشياء (الجمادات) (بصراً وسماعاً)",
        "lesson_sequence_in_unit": 4,
        "teacher_guide_page_start": 21,
        "teacher_guide_page_end": 23,
        "student_book_page_references_ar": "الدرس (١-٢) في كتاب التلميذ.",
        "estimated_total_lesson_time_minutes": 90,
        "lesson_objectives_ar": [
          "أن يتعرف التلميذ على أسماء بعض الجمادات بصرياً.",
          "أن يميز التلميذ أصوات بعض الأشياء سماعياً ويربطها بصورها.",
          "أن يدرك التلميذ العلاقات بين الأشياء وأجزائها أو استخداماتها.",
          "أن يردد التلميذ أنشودة (ماما) مع المعلم.",
          "أن يتحدث التلميذ عن صورة (صلاة الجمعة).",
          "أن يلون التلميذ شكل (المسجد) بألوان مناسبة.",
          "أن يتدرب التلميذ على الكتابة في خطوط مستقيمة."
        ],
        "materials_needed_ar": [
          "صور جمادات (طائرة، سيارة إسعاف، صفارة، سيارة، دراجة نارية، طبل)",
          "جهاز تسجيل أو وسيلة لإسماع أصوات الأشياء (رنين هاتف، صوت طائرة، الخ)",
          "أقلام تلوين",
          "كتاب التلميذ"
        ],
        "teaching_focus_ar": "التمييز البصري والسماعي للجمادات، إدراك العلاقات، التعبير الشفهي، مهارات ما قبل الكتابة (خطوط مستقيمة).",
        "activities": [
          {
            "activity_sequential_id": 1,
            "activity_name_ar": "النشاط (1): تعرف الأشياء وتمييزها بصرياً",
            "activity_type": "VisualDiscrimination",
            "teacher_guide_activity_page": 21,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "م: أسأل التلاميذ عن أسماء جمادات شاهدوها، أو عرفوا أسماءها من قبل.",
              "م: أنظم تلاميذ الصف في مجموعتين أفقيتين، وأقف أمام المجموعة الأولى، وأشير إلى الصورة الأولى وأسميها: (طائرة) أكرر ذلك مرتين، وهكذا مع بقية الصور صورة فصورة من أعلى إلى أسفل، (سيارة إسعاف، صفارة، سيارة، دراجة نارية، طبل)، ثم أقف في منتصف الصف أمام المجموعة الثانية وأكرر الإجراءات نفسها.",
              "م: أوجه التلاميذ إلى فتح كتبهم وأقف في منتصف الصف، وأشير إلى الصورة الأولى وأطلب إليهم وضع أصابعهم على الصورة نفسها وتسميتها وهكذا مع بقية الصور صورة فصورة من أعلى إلى أسفل.",
              "ت: يشيرون إلى الصور ويسمونها: (طائرة، سيارة إسعاف، صفارة، سيارة، دراجة نارية، طبل).",
              "م: أشير إلى كل صورة بشكل عشوائي، وأطلب إلى التلاميذ تسميتها."
            ],
            "expected_student_interaction_ar": "يتعرف التلاميذ على صور الجمادات ويسمونها.",
            "assessment_notes_ar": [
              "ملاحظة قدرة التلاميذ على تسمية الأشياء.",
              "ملاحظة الانتباه والتركيز."
            ]
          },
          {
            "activity_sequential_id": 2,
            "activity_name_ar": "النشاط (2): تمييز أصوات الأشياء سماعاً",
            "activity_type": "AuditoryDiscrimination",
            "teacher_guide_activity_page": 21,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "م: أُسمع التلاميذ صوت رنين الهاتف، ثم أخبرهم بأن هذا صوت الهاتف: (التلفون) وأتوصل معهم إلى أن النشاط الحالي سيكون تمييز أصوات الأشياء سماعاً.",
              "م: أُسمع التلاميذ أصوات الأشياء مباشرة أو باستخدام جهاز تسجيل، وأقول: هذا صوت (طائرة) ثم أشير إلى صورة الطائرة في الكتاب، أكرر هذا الإجراء مع بقية الصور بالترتيب:(سيارة إسعاف، صفارة، سيارة، دراجة نارية، طبل).",
              "م: أوجه التلاميذ إلى فتح كتبهم وأقف في منتصف الصف ثم أُسمع التلاميذ أصوات الأشياء مباشرة أو باستخدام جهاز تسجيل، وأطلب إليهم تحديد اسم صاحب الصوت، ثم الإشارة إلى صورته في كتبهم، أكرر هذا الإجراء مع بقية الصور بالترتيب.",
              "ت: يقولون اسم صاحب الصوت ثم يشيرون إلى صورته في الكتاب: (سيارة الإسعاف، صفارة، سيارة، دراجة نارية، طبل).",
              "م: أعرض الأصوات مرة أخرى بشكل عشوائي، وأطلب إلى التلاميذ تحديد اسم صاحب الصوت ثم الإشارة إلى صورته في الكتاب.",
              "م: ألاحظ إجابات التلاميذ ثم أصوب الإجابات الخطأ بأسلوب: (دوري، دوركم)."
            ],
            "expected_student_interaction_ar": "يستمع التلاميذ لأصوات الأشياء، يميزونها، ويربطونها بصورها.",
            "assessment_notes_ar": [
              "ملاحظة قدرة التلاميذ على تمييز الأصوات وربطها بالصور.",
              "تقديم التغذية الراجعة عند الحاجة."
            ]
          },
          {
            "activity_sequential_id": 3,
            "activity_name_ar": "النشاط (3): التمييز البصري وإدراك العلاقات",
            "activity_type": "VisualDiscrimination/Relationship",
            "teacher_guide_activity_page": 22,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "م: أمسك قلماً له غطاء، ثم أفصل الغطاء عن القلم، وأسألهم: هل نترك القلم بدون غطاء؟ وأتوصل معهم إلى أن الغطاء جزء من القلم وتوجد بينهما علاقة، وأن درس اليوم هو تحديد العلاقات بين الأشياء.",
              "م: أنظم تلاميذ الصف في مجموعتين أفقيتين أو أكثر.",
              "م: أقف أمام المجموعة الأولى وأشير إلى الصور وأسمي الصورة الأولى: (البيت) وأوضح للتلاميذ أن البيت يوجد فيه شيء ناقص وهو (الباب) ثم أصل خطاً بين الباب والبيت موضحاً العلاقة بينهما أن الباب جزء من البيت، وهكذا مع الصورتين الأخريين: (الغطاء، والقدر)، (العجلة والسيارة).",
              "م: أكرر الإجراءات السابقة مع مجموعات التلاميذ الأخرى.",
              "م: أوجه التلاميذ إلى فتح كتبهم وأقف في منتصف الصف، ثم أشير إلى الصورة الأولى، وأطلب إليهم وضع أصابعهم على الصورة نفسها وتسميتها، ثم أطلب إليهم توصيل خط بين الصورة وما يتعلق بها، وهكذا مع الصورتين الأخريين.",
              "ت: يصلون بخط بين (الباب، والبيت)، (الغطاء والقدر)، (العجلة والسيارة).",
              "م: ألاحظ إجابات التلاميذ ثم أصوب الإجابات الخطأ بأسلوب (دوري، دوركم)."
            ],
            "expected_student_interaction_ar": "يصل التلاميذ بين الأشياء وما يتعلق بها (أجزاء أو علاقات).",
            "assessment_notes_ar": [
              "ملاحظة قدرة التلاميذ على إدراك العلاقات بين الأشياء."
            ]
          },
          {
            "activity_sequential_id": 4,
            "activity_name_ar": "النشاط (4): أنشودة ماما",
            "activity_type": "Nashid/Chant",
            "teacher_guide_activity_page": 22,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "م: الآن سأقوم بقراءة أنشودة على مسامعكم ملحنة ولابد من مراعاة التوجيهات الآتية: الجلوس في وضع مناسب ومريح، الإنصات الجيد للنشيد، ترديد النشيد معي.",
              "م: أقوم بإسماع التلاميذ النشيد الآتي:",
              "م: الآن سنردد النشيد معاً: أقوم بقراءة النشيد ملحناً والتلاميذ يرددون معي (أكرر النشيد عدة مرات).",
              "م: أطلب إلى التلاميذ ترديد النشيد بمفردهم بصورة جماعية."
            ],
            "expected_student_interaction_ar": "يستمع التلاميذ ويرددون أنشودة ماما.",
            "content_to_deliver_ar": {
              "nashid_title": "ماما ماما",
              "nashid_lyrics": "ماما ماما يا أنغاما\nتملأ قلبي بندى الحب\nأنت نشيدي عيدك عيدي\nبسمة أمي سر وجودي"
            },
            "assessment_notes_ar": [
              "ملاحظة مشاركة التلاميذ وتفاعلهم مع الأنشودة."
            ]
          },
          {
            "activity_sequential_id": 5,
            "activity_name_ar": "النشاط (5): التحدث: (صلاة الجمعة)",
            "activity_type": "Discussion/OralExpression",
            "teacher_guide_activity_page": 22,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "م: أطلب إليهم فتح كتبهم على صورة التحدث.",
              "ت: التلاميذ يفتحون كتبهم على صورة التحدث.",
              "م: أمر بين التلاميذ للتأكد أنهم فتحوا كتبهم على صورة التحدث.",
              "م: أناقش التلاميذ في مضمون الصورة مستعيناً بالأسئلة الآتية:",
              "م: أوجههم إلى التحدث عن الصورة لأسرهم."
            ],
            "expected_student_interaction_ar": "يتحدث التلاميذ عن صورة صلاة الجمعة ويجيبون على أسئلة المعلم.",
            "content_to_deliver_ar": {
              "discussion_questions": [
                "ماذا تشاهدون في الصورة؟ (ت: تقبل أية إجابة مناسبة.)",
                "ماذا يفعل الناس في المسجد؟ (ت: تقبل أية إجابة مناسبة.)",
                "في أي يوم يخطب الإمام في المسجد؟ (ت: يوم الجمعة.)",
                "ماذا نفعل عندما يخطب الإمام في يوم الجمعة؟ (ت: نستمع إليه ولا نتكلم.)"
              ]
            },
            "assessment_notes_ar": [
              "ملاحظة قدرة التلاميذ على التعبير والمشاركة في النقاش."
            ]
          },
          {
            "activity_sequential_id": 6,
            "activity_name_ar": "النشاط (6): التلوين (المسجد)",
            "activity_type": "Coloring",
            "teacher_guide_activity_page": 23,
            "estimated_time_activity_minutes": 15,
            "teacher_instructions_ar": [
              "م: أطلب إلى التلاميذ الجلوس بطريقة صحيحة، استعداداً للتلوين، وألاحظ طريقة جلوسهم.",
              "م: سنقوم اليوم بتلوين صورة (المسجد).",
              "م: أعرض نموذج تلوين صورة (المسجد) على وسيلة، أو على السبورة.",
              "م: أشير إلى الصورة، وأقول هذه صورة (المسجد) وأكرر ذلك مرتين.",
              "م: سأقوم بتلوين صورة المسجد.",
              "م: ألون صورة المسجد باللون المناسب.",
              "م: أطلب إلى التلاميذ فتح كتبهم على الصورة المطلوب تلوينها (المسجد).",
              "م: الآن: ستقومون بمفردكم بتلوين صورة (المسجد).",
              "م: أوجه التلاميذ إلى مسك الأقلام بطريقة صحيحة وأختار اللون المناسب.",
              "ت: يبدأ التلاميذ بتلوين صورة المسجد.",
              "م: أمر بين التلاميذ لمتابعتهم وتقديم المساعدة اللازمة."
            ],
            "expected_student_interaction_ar": "يلون التلاميذ صورة المسجد.",
            "assessment_notes_ar": [
              "ملاحظة مهارات التلوين والالتزام بالحدود."
            ]
          },
          {
            "activity_sequential_id": 7,
            "activity_name_ar": "النشاط (7): (الكتابة في خطوط مستقيمة)",
            "activity_type": "PreWriting",
            "teacher_guide_activity_page": 23,
            "estimated_time_activity_minutes": 15,
            "teacher_instructions_ar": [
              "تقديم النشاط: م: أذكر التلاميذ بالمسكة الصحيحة بالقلم والجلسة الصحيحة أثناء الكتابة، وأقوم بإخراج قلمي، مراعياً الطريقة المناسبة لمسكه في أثناء الكتابة قائلاً: اليوم سنتدرب على رسم الخط المستقيم (الأفقي والعمودي)، والاتجاهات الصحيحة لكتابته.",
              "نموذج (دوري): م: أمسك قلمي هكذا (أدير ظهري للتلاميذ في أثناء تقديم المثال). م: أحرك قلمي على السبورة من اليمين إلى اليسار في خط مستقيم هكذا (أفقي). وفي الشكل الثاني: من أعلى إلى أسفل هكذا (عمودي). م: أكرر مرة ثانية رسم الخطوط وفي كل مرة أوضح من أين أبدأ وأين أنتهي.",
              "ممارسة موجهة (دورنا): م: أوجه التلاميذ إلى فتح كتبهم؛ لتنفيذ النشاط. م: أقوم بالتأكد من أن كل تلميذ قد فتح كتابه على الصفحة المطلوبة، وأنه يمسك القلم بالطريقة الصحيحة. م: أقول للتلاميذ: الآن ستكملون معي وسننطق اتجاهات الكتابة الصحيحة للشكلين معاً. م ت: أقوم مع التلاميذ برسم الشكلين (الأفقي ثم العمودي) قائلين معاً: نحرك القلم من اليمين إلى اليسار في الشكل الأول، وفي الشكل الثاني نقول: نحرك القلم من أعلى إلى أسفل.",
              "ممارسة مستقلة (دوركم): م: الآن ستنفذون النشاط بمفردكم مراعين اتجاهات كتابة القطعتين وسنصف الاتجاهات لفظياً. ت: يبدأ التلاميذ بتمرير أقلامهم على النقاط بداخل القطعتين بمفردهم وينطقون اتجاهات الكتابة وأمر للمتابعة، وتقديم الدعم.",
              "تطبيق: م: أطلب إلى التلاميذ ممارسة كتابة القطعتين السابقتين، فإذا لاحظت قصوراً لدى تلميذ عند المتابعة والتصويب أوظف أسلوب (دوري، دوركم). م: أوجه التلاميذ إلى تطبيق ما تدربوا عليه في منازلهم."
            ],
            "expected_student_interaction_ar": "يتدربون على رسم الخطوط المستقيمة (الأفقية والعمودية).",
            "assessment_notes_ar": [
              "ملاحظة قدرة التلاميذ على التحكم بالقلم ورسم الخطوط.",
              "تقديم الدعم الفردي."
            ]
          }
        ]
      },
      {
        "lesson_id": "1-5",
        "lesson_title_ar": "تمييز أحوال الإنسان (بصراً وسماعاً)",
        "lesson_sequence_in_unit": 5,
        "teacher_guide_page_start": 24,
        "teacher_guide_page_end": 26,
        "student_book_page_references_ar": "الدرس (١-٣) في كتاب التلميذ.",
        "estimated_total_lesson_time_minutes": 90,
        "lesson_objectives_ar": [
          "أن يتعرف التلميذ على بعض أحوال الإنسان بصرياً (يصفق، يؤذن، ينادي، يقرأ، يضحك، ينشد).",
          "أن يميز التلميذ أصواتاً تعبر عن أحوال الإنسان ويربطها بصورها.",
          "أن يدرك التلميذ العلاقات بين الأشخاص وأفعالهم أو أماكنهم.",
          "أن يردد التلميذ أنشودة (أمي وأبي).",
          "أن يتحدث التلميذ عن صورة (الأولاد في المدرسة أثناء الاستراحة).",
          "أن يلون التلميذ (العلم).",
          "أن يتدرب التلميذ على الكتابة في خطوط بزاوية قائمة."
        ],
        "materials_needed_ar": [
          "صور لأحوال الإنسان (يد تصفق، رجل يؤذن، الخ)",
          "جهاز تسجيل أو هاتف لإسماع أصوات (ضحك، تصفيف، الخ)",
          "أقلام تلوين",
          "كتاب التلميذ"
        ],
        "teaching_focus_ar": "التمييز البصري والسماعي لأحوال الإنسان، إدراك العلاقات، التعبير الشفهي، مهارات ما قبل الكتابة.",
        "activities": [
          {
            "activity_sequential_id": 1,
            "activity_name_ar": "النشاط (1): تعرف أحوال الإنسان وتمييزها بصرياً",
            "activity_type": "VisualDiscrimination",
            "teacher_guide_activity_page": 24,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "م: أمثل أمام التلاميذ صورة الضحك أو البكاء، وأسأل التلاميذ، ماذا أفعل الآن؟ ثم أتوصل مع التلاميذ إلى أن درس اليوم سيكون عن أحوال الإنسان.",
              "م: أنظم تلاميذ الصف في مجموعتين أفقيتين، وأقف أمام المجموعة الأولى، وأشير إلى الصورة الأولى: (يد تصفق) وأسميها، ثم أشير إلى بقية الصور من أعلى إلى أسفل صورة فصورة وأسميها: (رجل يؤذن، ولد ينادي، ولد يقرأ القرآن، ولد يضحك، أولاد ينشدون)، ثم أقف في منتصف الصف أمام المجموعة الأخرى وأكرر الإجراءات نفسها.",
              "م: أوجه التلاميذ إلى فتح كتبهم وأقف في منتصف الصف، وأشير إلى الصورة الأولى وأطلب إليهم وضع أصابعهم على الصورة نفسها وتسميتها، وهكذا مع بقية الصور صورة فصورة من أعلى إلى أسفل.",
              "ت: يشيرون إلى الصور ويسمونها: (يد تصفق، رجل يؤذن، ولد ينادي، ولد يقرأ القرآن، ولد يضحك، أولاد ينشدون).",
              "م: أشير إلى كل صورة بشكل عشوائي، وأطلب إلى التلاميذ تسميتها."
            ],
            "expected_student_interaction_ar": "يتعرف التلاميذ على صور أحوال الإنسان ويسمونها.",
            "assessment_notes_ar": [
              "ملاحظة قدرة التلاميذ على تسمية أحوال الإنسان المعروضة."
            ]
          },
          {
            "activity_sequential_id": 2,
            "activity_name_ar": "النشاط (2): تمييز أصوات الإنسان سماعاً",
            "activity_type": "AuditoryDiscrimination",
            "teacher_guide_activity_page": 24,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "م: أُسمع التلاميذ صوت ضحك من هاتفي الشخصي أو أقوم بالضحك مباشرة، ثم أخبرهم بأن هذا صوت ضحك، وأتوصل معهم إلى أن النشاط الحالي سيكون تمييز أصوات أحوال الإنسان سماعاً.",
              "م: أُسمع التلاميذ أصوات أحوال الإنسان مباشرة، أو باستخدام جهاز تسجيل، وأقول: هذا صوت (يد تصفق) ثم أشير إلى الصورة في الكتاب، أكرر هذا الإجراء مع بقية الصور بالترتيب: (رجل يؤذن، ولد ينادي، ولد يقرأ القرآن، ولد يضحك، أولاد ينشدون).",
              "م: أوجه التلاميذ إلى فتح كتبهم وأقف في منتصف الصف ثم أُسمع التلاميذ الأصوات مباشرة أو باستخدام جهاز تسجيل، وأطلب إليهم تحديد اسم صاحب الصوت، ثم الإشارة إلى صورته في كتبهم، أكرر هذا الإجراء مع بقية الصور بالترتيب.",
              "ت: يقولون اسم صاحب الصوت ثم يشيرون إلى صورته في الكتاب: (يد تصفق، رجل يؤذن، ولد ينادي، ولد يقرأ القرآن، ولد يضحك، أولاد ينشدون).",
              "م: أعرض الأصوات مرة أخرى بشكل عشوائي، وأطلب إلى التلاميذ تحديد اسم صاحب الصوت ثم الإشارة إلى صورته في الكتاب.",
              "م: ألاحظ إجابات التلاميذ ثم أصوب الإجابات الخطأ بأسلوب: (دوري، دوركم)."
            ],
            "expected_student_interaction_ar": "يستمع التلاميذ لأصوات تعبر عن أحوال الإنسان، يميزونها، ويربطونها بالصور.",
            "assessment_notes_ar": [
              "ملاحظة قدرة التلاميذ على تمييز الأصوات وربطها بالصور الصحيحة."
            ]
          },
          {
            "activity_sequential_id": 3,
            "activity_name_ar": "النشاط (3): التمييز البصري وإدراك العلاقات",
            "activity_type": "VisualDiscrimination/Relationship",
            "teacher_guide_activity_page": 25,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "م: أسأل التلاميذ قائلاً: في أي مكان تدرسون؟ م: أتوصل مع التلاميذ إلى أن درس اليوم سيكون عن إدراك العلاقات.",
              "م: أنظم تلاميذ الصف في مجموعتين أفقيتين أو أكثر.",
              "م: أقف أمام المجموعة الأولى وأشير إلى الصورة الأولى: (الولد مع كرته والملعب) وأسميها، ثم أصل بخط بين الصورة وما يتعلق بها، موضحاً العلاقة بينهما (التلميذة مع حقيبتها والمدرسة)، (الصياد والقارب في البحر).",
              "م: أكرر الإجراءات السابقة مع مجموعات التلاميذ الأخرى.",
              "م: أوجه التلاميذ إلى فتح كتبهم وأقف في منتصف الصف ثم أشير إلى الصورة الأولى، وأطلب إليهم وضع أصابعهم على الصورة نفسها في كتبهم وتسميتها، ثم أطلب إليهم توصيل خط بين الصورة وما يتعلق بها.",
              "ت: يصلون خطاً بين (الولد مع كرته والملعب)، (التلميذة مع حقيبتها والمدرسة)، (الصياد والقارب في البحر).",
              "م: ألاحظ إجابات التلاميذ ثم أصوب الإجابات الخطأ بأسلوب: (دوري، دوركم)."
            ],
            "expected_student_interaction_ar": "يصل التلاميذ بين الصور التي توضح علاقات (شخص بمكان أو شيء).",
            "assessment_notes_ar": [
              "ملاحظة قدرة التلاميذ على فهم وإدراك العلاقات."
            ]
          },
          {
            "activity_sequential_id": 4,
            "activity_name_ar": "النشاط (4): أنشودة أمي وأبي",
            "activity_type": "Nashid/Chant",
            "teacher_guide_activity_page": 25,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "م: الآن سأقوم بقراءة أنشودة على مسامعكم ملحنة ولابد من مراعاة التوجيهات الآتية: الجلوس في وضع مناسب ومريح، الإنصات الجيد للنشيد، ترديد النشيد معي.",
              "م: أقوم بإسماع التلاميذ النشيد الآتي:",
              "م: الآن سننشد النشيد معاً: أقوم بقراءة النشيد ملحناً والتلاميذ يرددون معي: (أكرر النشيد عدة مرات).",
              "م: أطلب إلى التلاميذ ترديد النشيد بمفردهم بصورة جماعية."
            ],
            "expected_student_interaction_ar": "يستمع التلاميذ ويرددون أنشودة (أمي وأبي).",
            "content_to_deliver_ar": {
              "nashid_title": "أمي وأبي",
              "nashid_lyrics": "نبع الحب وهدى دربي\nأمي وأبي دفء القلب\nفاحفظ ربي أمي وأبي"
            },
            "assessment_notes_ar": [
              "ملاحظة مشاركة التلاميذ في ترديد الأنشودة."
            ]
          },
          {
            "activity_sequential_id": 5,
            "activity_name_ar": "النشاط (5): صورة التحدث: (الأولاد في المدرسة أثناء الاستراحة)",
            "activity_type": "Discussion/OralExpression",
            "teacher_guide_activity_page": 25,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "م: أطلب إليهم فتح كتبهم على صورة التحدث.",
              "ت: التلاميذ يفتحون كتبهم على صورة التحدث.",
              "م: أمر بين التلاميذ للتأكد أنهم فتحوا كتبهم على صورة التحدث.",
              "م: أناقش التلاميذ في مضمون الصورة مستعيناً بالأسئلة الآتية:",
              "م: أوجههم إلى التحدث عن الصورة لأسرهم."
            ],
            "expected_student_interaction_ar": "يتحدث التلاميذ عن الصورة ويجيبون على أسئلة المعلم.",
            "content_to_deliver_ar": {
              "discussion_questions": [
                "ماذا تشاهدون في الصورة؟ (ت: مدرسة، تلاميذ يلعبون (تقبل أية إجابة مناسبة).)",
                "ماذا يفعل الأولاد الذين معهم كرة؟ (ت: يلعبون بالكرة.)",
                "ماذا يفعل الأولاد الذين عن يمين المعلم؟ (ت: يستعدون للسباق (تقبل أية إجابة مناسبة).)",
                "ماذا يفعل المعلم؟ (ت: تقبل أية إجابة مناسبة.)",
                "ماذا تفعل عندما تخرج في الاستراحة؟ (ت: تقبل أية إجابة مناسبة.)"
              ]
            },
            "assessment_notes_ar": [
              "تشجيع التلاميذ على وصف ما يرونه والتعبير عن أنفسهم."
            ]
          },
          {
            "activity_sequential_id": 6,
            "activity_name_ar": "النشاط (6): التلوين (العلم)",
            "activity_type": "Coloring",
            "teacher_guide_activity_page": 26,
            "estimated_time_activity_minutes": 15,
            "teacher_instructions_ar": [
              "م: أطلب إلى التلاميذ الجلوس بطريقة صحيحة، استعداداً للتلوين، وألاحظ طريقة جلوسهم.",
              "م: سنقوم اليوم بتلوين صورة: (العلم).",
              "م: أعرض نموذج تلوين شكل (العلم) على وسيلة، أو على السبورة.",
              "م: أشير إلى الصورة، وأقول هذه صورة (العلم) وأكرر ذلك مرتين.",
              "م: سأقوم بتلوين صورة العلم مراعياً أن يكون اللون الأول من الأعلى أحمر والوسط أبيض واللون الثالث من الأسفل أسود.",
              "م: ألون صورة العلم بالألوان المناسبة.",
              "م: أطلب إلى التلاميذ فتح كتبهم على الشكل المطلوب تلوينها: (العلم).",
              "م: الآن: ستقومون بمفردكم بتلوين صورة: (العلم).",
              "م: أوجه التلاميذ إلى مسك الأقلام بطريقة صحيحة وأختار اللون المناسب.",
              "ت: يبدأ التلاميذ بتلوين صورة العلم.",
              "م: أمر بين التلاميذ لمتابعتهم وتقديم المساعدة اللازمة."
            ],
            "expected_student_interaction_ar": "يلون التلاميذ صورة العلم بالألوان المحددة.",
            "assessment_notes_ar": [
              "ملاحظة التزام التلاميذ بتلوين العلم بالألوان الصحيحة وبالترتيب."
            ]
          },
          {
            "activity_sequential_id": 7,
            "activity_name_ar": "النشاط (7): التهيئة الكتابية: (الكتابة في خطوط بزاوية قائمة)",
            "activity_type": "PreWriting",
            "teacher_guide_activity_page": 26,
            "estimated_time_activity_minutes": 15,
            "teacher_instructions_ar": [
              "تقديم النشاط: م: أذكر التلاميذ بالمسكة الصحيحة بالقلم والجلسة الصحيحة أثناء الكتابة وأقوم بإخراج قلمي مراعياً الطريقة المناسبة في مسكه أثناء الكتابة، قائلاً: اليوم سنتدرب على رسم شكل (الزاوية القائمة)، والاتجاهات الصحيحة لكتابته.",
              "نموذج (دوري): م: أمسك قلمي هكذا (أدير ظهري للتلاميذ في أثناء تقديم المثال). م: أحرك قلمي من أعلى إلى أسفل، ثم من اليمين إلى اليسار في الشكل الأول، وفي الشكل الثاني أحرك قلمي من اليمين إلى اليسار ثم من أسفل إلى أعلى.",
              "م: أكرر مرة ثانية رسم الشكل وفي كل مرة أوضح من أين أبدأ وأين أنتهي.",
              "ممارسة موجهة (دورنا): م: أوجه التلاميذ إلى فتح كتبهم؛ لتنفيذ نشاط (رسم الزاوية). م: أقوم بالتأكد من أن كل تلميذ قد فتح كتابه على الصفحة المطلوبة، وأنه يمسك القلم بالطريقة الصحيحة. م: أقول للتلاميذ الآن ستكملون معي وسننطق اتجاهات الكتابة الصحيحة للشكلين معاً. م ت: أقوم مع التلاميذ برسم الشكلين. قائلين معاً: نحرك القلم من أعلى إلى أسفل، ثم من اليمين إلى اليسار في الشكل الأول. م ت: وفي الشكل الثاني نقول: نحرك القلم من اليمين إلى اليسار ثم من أسفل إلى أعلى.",
              "ممارسة مستقلة (دوركم): م: الآن ستنفذون النشاط بمفردكم مراعين اتجاهات كتابة القطعتين وسنصف الاتجاهات لفظياً. ت: يبدأ التلاميذ بتمرير أقلامهم على النقاط بداخل القطعتين بمفردهم وينطقون اتجاهات الكتابة وأمر للمتابعة، وتقديم الدعم.",
              "تطبيق: م: أطلب إلى التلاميذ ممارسة كتابة القطعتين فإذا لاحظت قصوراً لدى تلميذ عند المتابعة والتصويب أوظف أسلوب: (دوري، دوركم). م: أوجه التلاميذ إلى تطبيق ما تدربوا عليه في منازلهم."
            ],
            "expected_student_interaction_ar": "يتدربون على رسم خطوط بزاوية قائمة باتباع النقاط.",
            "assessment_notes_ar": [
              "ملاحظة قدرة التلاميذ على اتباع الاتجاهات لرسم الزوايا."
            ]
          }
        ]
      },
      {
        "lesson_id": "1-6",
        "lesson_title_ar": "تمييز المختلف والمتشابه والأماكن",
        "lesson_sequence_in_unit": 6,
        "teacher_guide_page_start": 27,
        "teacher_guide_page_end": 30,
        "student_book_page_references_ar": "الدرس (١-٤) في كتاب التلميذ.",
        "estimated_total_lesson_time_minutes": 90,
        "lesson_objectives_ar": [
          "أن يميز التلميذ الأشياء المختلفة بصرياً.",
          "أن يميز التلميذ الأشياء المتشابهة بصرياً.",
          "أن يميز التلميذ الأماكن المختلفة للأشياء (فوق، تحت، خلف، أمام، داخل، خارج).",
          "أن يردد التلميذ أنشودة (أمي وأبي).",
          "أن يتحدث التلميذ عن صورة (البقالة).",
          "أن يلون التلميذ (التفاحة والموزة).",
          "أن يتدرب التلميذ على كتابة الشكل المنحني بزاوية قائمة."
        ],
        "materials_needed_ar": [
          "أقلام، صور (تفاح وبرتقال، مدرسة وكرة سلة، قطة، موزة، سيارة)",
          "كتابين ودفتر",
          "أقلام تلوين",
          "كتاب التلميذ"
        ],
        "teaching_focus_ar": "التمييز البصري للمختلف والمتشابه، تمييز الأماكن، التعبير الشفهي، مهارات ما قبل الكتابة.",
        "activities": [
          {
            "activity_sequential_id": 1,
            "activity_name_ar": "النشاط (1): تمييز الأشياء المختلفة بصرياً",
            "activity_type": "VisualDiscrimination",
            "teacher_guide_activity_page": 27,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "م: أعرض على التلاميذ ثلاثة أقلام: قلم رصاص وقلمي حبر وأطلب إليهم تأمل الأقلام الثلاثة وتمييز القلم المختلف، ثم أتوصل معهم إلى أن الدرس سيكون تمييز الأشياء المختلفة.",
              "م: أنظم تلاميذ الصف في مجموعتين أفقيتين أو أكثر ثم أقف أمام المجموعة الأولى وأعرض أمامهم صورة الدرس باستخدام وسيلة أو من خلال الكتاب: (التفاح والبرتقالة)، ثم أقول: هذه صور فواكه: ثلاث صور للتفاح، وصورة للبرتقالة وأوضح أن الصورة المختلفة هي صورة البرتقالة، ثم أضع حولها دائرة، وهكذا مع المجموعات الأخرى في الدرس ثم أضع دائرة حول الصورة المختلفة: (المدرسة، كرة السلة).",
              "م: أكرر الإجراءات السابقة مع مجموعات التلاميذ الأخرى.",
              "م: أوجه التلاميذ إلى فتح كتبهم، وأشير إلى المجموعة الأولى (صور التفاح والبرتقالة)، وأطلب إلى التلاميذ وضع دائرة على الصورة المختلفة، وهكذا مع بقية الصور في المجموعات.",
              "ت: يضعون دائرة حول الشكل المختلف: (البرتقالة، المدرسة، كرة السلة).",
              "م: أمر بين التلاميذ وأقدم التغذية الراجعة باستخدام أسلوب: (دوري، دوركم)."
            ],
            "expected_student_interaction_ar": "يميز التلاميذ الشيء المختلف عن المجموعة ويضعون حوله دائرة.",
            "assessment_notes_ar": [
              "ملاحظة قدرة التلاميذ على تمييز العنصر المختلف."
            ]
          },
          {
            "activity_sequential_id": 2,
            "activity_name_ar": "النشاط (2): تمييز الأشياء المتشابهة بصرياً",
            "activity_type": "VisualDiscrimination",
            "teacher_guide_activity_page": 27,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "م: أعرض على التلاميذ كتابين للقراءة ودفترًا، وأطلب إليهم تأمل الكتابين والدفتر، وأطلب إليهم تحديد المتشابه، ثم أتوصل معهم إلى أن الدرس سيكون تمييز الأشياء المتشابهة.",
              "م: أنظم تلاميذ الصف في مجموعتين أفقيتين أو أكثر.",
              "م: أقف أمام المجموعة الأولى وأعرض صورة القطة في المربع والصورة التي أمامها ثم أقول هذه صورة قطة، وأضع إصبعي على الصورة التي تشبهها، ثم أضع عليها دائرة، وهكذا مع بقية مجموعات الدرس.",
              "م: أكرر الإجراءات السابقة مع مجموعات التلاميذ الأخرى.",
              "م: أوجه التلاميذ إلى فتح كتبهم، وأقف أمام التلاميذ مستخدماً الكتاب وأشير إلى صورة القطة والصور التي أمامها، وأطلب إليهم وضع دائرة على الصورة التي تشبهها، وهكذا مع بقية الصور في المجموعتين الأخريين.",
              "ت: يضعون دائرة حول الشكل الذي يشبه الصورة في المربع (القطة، الموزة، السيارة).",
              "م: أمر بين التلاميذ وأقدم التغذية الراجعة باستخدام أسلوب (دوري، دوركم)."
            ],
            "expected_student_interaction_ar": "يميز التلاميذ الشيء المتشابه مع الصورة المعروضة ويضعون حوله دائرة.",
            "assessment_notes_ar": [
              "ملاحظة قدرة التلاميذ على تمييز العنصر المتشابه."
            ]
          },
          {
            "activity_sequential_id": 3,
            "activity_name_ar": "النشاط (3): تمييز الأماكن بصرياً",
            "activity_type": "SpatialAwareness",
            "teacher_guide_activity_page": 28,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "م: أمسك الكتاب وأضعه داخل الحقيبة، وأسأل التلاميذ: أين الكتاب؟ ت: (داخل الحقيبة)، ثم أتوصل معهم إلى أن الدرس سيكون تمييز الأماكن.",
              "م: أنظم تلاميذ الصف في مجموعتين أفقيتين أو أكثر.",
              "م: أقف أمام المجموعة الأولى وأعرض الصورة الأولى: (الديك فوق الجدار) وأشير إلى الديك ثم أقول هذه صورة ديك يقف فوق الجدار، ثم أشير إلى الصورة المقابلة وأضع إصبعي على القطة ثم أقول: القطة تحت الكرسي، أشير إلى الصورة الثالثة وأقول: الكرة خلف الولد، ثم أشير إلى الصورة المقابلة لها وأقول: الكرة أمام الولد، أنتقل إلى الصورة في الأسفل وأشير بإصبعي إلى الصندوق وأقول: الأرنب داخل الصندوق، ثم أشير إلى الصورة المقابلة وأقول: الأرنب خارج الصندوق.",
              "م: أكرر الإجراءات السابقة مع مجموعات التلاميذ الأخرى.",
              "م: أوجه التلاميذ إلى فتح كتبهم، وأقف أمام التلاميذ مستخدماً وسيلة أو من خلال الكتاب وأشير إلى الصور صورة فصورة بشكل أفقي وأطلب إليهم الإشارة إلى الصورة نفسها ثم أسألهم:",
              "م: أين يقف الديك؟ ت: فوق السور. م: أين يجلس القط؟ ت: تحت الكرسي.",
              "م: أين مكان الكرة؟ ت: خلف الولد. م: أين مكان الكرة؟ ت: أمام الولد.",
              "م: أين مكان الأرنب؟ ت: داخل الصندوق. م: أين مكان الأرنب؟ ت: خارج الصندوق.",
              "م: ألاحظ إجابات التلاميذ ثم أصوّب الإجابات الخطأ باستخدام أسلوب: (دوري، دوركم).",
              "م: أشير إلى كل صورة بشكل عشوائي، وأطلب إلى التلاميذ تحديد الأماكن باستخدام الإجراءات السابقة."
            ],
            "expected_student_interaction_ar": "يحدد التلاميذ أماكن الأشياء (فوق، تحت، أمام، خلف، داخل، خارج) بناءً على الصور.",
            "assessment_notes_ar": [
              "ملاحظة قدرة التلاميذ على استخدام مفردات المكان بشكل صحيح."
            ]
          },
          {
            "activity_sequential_id": 4,
            "activity_name_ar": "النشاط (4): أنشودة أمي وأبي",
            "activity_type": "Nashid/Chant",
            "teacher_guide_activity_page": 28,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "م: الآن سأقوم بقراءة أنشودة على مسامعكم ملحنة ولابد من مراعاة التوجيهات الآتية: الجلوس في وضع مناسب ومريح، الإنصات الجيد للنشيد، ترديد النشيد معي.",
              "م: أقوم بإسماع التلاميذ النشيد الآتي:",
              "م: الآن سننشد النشيد معاً: أقوم بقراءة النشيد ملحناً والتلاميذ يرددون معي (أكرر النشيد عدة مرات).",
              "م: أطلب إلى التلاميذ ترديد النشيد بمفردهم بصورة جماعية."
            ],
            "expected_student_interaction_ar": "يستمع التلاميذ ويرددون أنشودة (أمي وأبي).",
            "content_to_deliver_ar": {
              "nashid_title": "أمي وأبي",
              "nashid_lyrics": "نبع الحب وهدى دربي\nأمي وأبي دفء القلب\nفاحفظ ربي أمي وأبي"
            },
            "assessment_notes_ar": [
              "ملاحظة مشاركة التلاميذ في ترديد الأنشودة."
            ]
          },
          {
            "activity_sequential_id": 5,
            "activity_name_ar": "النشاط (5): التحدث (البقالة)",
            "activity_type": "Discussion/OralExpression",
            "teacher_guide_activity_page": 29,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "م: أطلب إليهم فتح كتبهم على صورة التحدث.",
              "ت: التلاميذ يفتحون كتبهم على صورة التحدث.",
              "م: أمر بين التلاميذ للتأكد أنهم فتحوا كتبهم على صورة التحدث.",
              "م: أناقش التلاميذ في مضمون الصورة، مستعيناً بالأسئلة الآتية:",
              "م: أوجههم إلى التحدث عن الصورة لأسرهم."
            ],
            "expected_student_interaction_ar": "يتحدث التلاميذ عن صورة البقالة ويجيبون على أسئلة المعلم.",
            "content_to_deliver_ar": {
              "discussion_questions": [
                "ماذا تشاهدون في الصورة؟ (ت: (موز، عنب ....). تقبل أية إجابة مناسبة.)",
                "ما الأشياء التي تباع في البقالة؟ (ت: تقبل أية إجابة مناسبة.)",
                "ماذا نستفيد من البقالة؟ (ت: تقبل أية إجابة مناسبة.)",
                "ماذا يحدث إذا لم يكن هناك بقالة في الحي / الحارة التي تسكن فيها؟ (ت: تقبل أية إجابة مناسبة.)"
              ]
            },
            "assessment_notes_ar": [
              "تشجيع التلاميذ على التعبير عن ملاحظاتهم وآرائهم."
            ]
          },
          {
            "activity_sequential_id": 6,
            "activity_name_ar": "النشاط (6): التلوين (التفاحة والموزة)",
            "activity_type": "Coloring",
            "teacher_guide_activity_page": 29,
            "estimated_time_activity_minutes": 15,
            "teacher_instructions_ar": [
              "م: أطلب إلى التلاميذ الجلوس بطريقة صحيحة، استعداداً للتلوين، وألاحظ طريقة جلوسهم.",
              "م: سنقوم اليوم بتلوين صورة التفاحة والموزة.",
              "م: أعرض نموذج تلوين صورة (الموزة والتفاحة) على وسيلة، أو على السبورة.",
              "م: أشير إلى الصورة، وأقول هذه صورة (موزة وتفاحة) وأكرر ذلك مرتين.",
              "م: سأقوم بتلوين الصورة.",
              "م: ألون الموزة والتفاحة باللون المناسب.",
              "م: أطلب إلى التلاميذ فتح كتبهم على الصور المطلوب تلوينها: (موزة وتفاحة).",
              "م: الآن: ستقومون بمفردكم بتلوين صورة: (الموزة والتفاحة).",
              "م: أوجه التلاميذ إلى مسك الأقلام بطريقة صحيحة وأختار اللون المناسب.",
              "ت: يبدأ التلاميذ بتلوين صورة الموزة والتفاحة.",
              "م: أمر بين التلاميذ لمتابعتهم وتقديم المساعدة اللازمة."
            ],
            "expected_student_interaction_ar": "يلون التلاميذ صور التفاحة والموزة.",
            "assessment_notes_ar": [
              "ملاحظة اختيار الألوان المناسبة والالتزام بحدود الرسم."
            ]
          },
          {
            "activity_sequential_id": 7,
            "activity_name_ar": "النشاط (7): التهيئة الكتابية: (كتابة الشكل المنحني بزاوية قائمة)",
            "activity_type": "PreWriting",
            "teacher_guide_activity_page": 30,
            "estimated_time_activity_minutes": 15,
            "teacher_instructions_ar": [
              "تقديم النشاط: م: أذكر التلاميذ بالمسكة الصحيحة للقلم والجلسة الصحيحة في أثناء الكتابة، وأقوم بإخراج قلمي، مراعياً الطريقة المناسبة في مسكه أثناء الكتابة، قائلاً: اليوم سنتدرب على رسم شكل (الشكل المنحني بزاوية قائمة)، والاتجاهات الصحيحة لكتابته.",
              "نموذج (دوري): م: أمسك قلمي هكذا (وأدير ظهري للتلاميذ في أثناء تقديم المثال). م: أحرك قلمي من أسفل إلى أعلى، ثم من اليمين إلى اليسار، ثم من أعلى إلى أسفل، ثم من اليمين إلى اليسار... وهكذا. م: أكرر مرة ثانية رسم الشكل وفي كل مرة أوضح من أين أبدأ وأين أنتهي.",
              "ممارسة موجهة (دورنا): م: أوجه التلاميذ إلى فتح كتبهم؛ لتنفيذ نشاط (رسم الشكل). م: أقوم بالتأكد من أن كل تلميذ قد فتح كتابه على الصفحة المطلوبة، وأنه يمسك القلم بالطريقة الصحيحة. م: أقول للتلاميذ الآن ستكملون معي وسننطق اتجاهات الكتابة الصحيحة للشكل معاً. م ت: أقوم مع التلاميذ برسم الشكل. قائلين معاً: نحرك من أسفل إلى أعلى، ثم من اليمين إلى اليسار، ثم من أعلى إلى أسفل، ثم من اليمين إلى اليسار... وهكذا.",
              "ممارسة مستقلة (دوركم): م: الآن ستنفذون النشاط بمفردكم مراعين اتجاهات كتابة القطعة وستصفون الاتجاهات لفظياً. ت: يبدأ التلاميذ بتمرير أقلامهم على النقاط بداخل القطعة في صورة فردية وينطقون اتجاهات الكتابة وأمر للمتابعة، وتقديم الدعم.",
              "تطبيق: م: أطلب إلى التلاميذ ممارسة كتابة القطعة فإذا لاحظت قصوراً لدى تلميذ عند المتابعة والتصويب أوظف أسلوب (دوري، دوركم). م: أوجه التلاميذ إلى تطبيق ما تدربوا عليه في منازلهم."
            ],
            "expected_student_interaction_ar": "يتدربون على رسم الشكل المنحني بزاوية قائمة باتباع النقاط والاتجاهات.",
            "assessment_notes_ar": [
              "ملاحظة قدرة التلاميذ على تتبع الخطوط المنحنية والزوايا."
            ]
          }
        ]
      },
      {
        "lesson_id": "1-7",
        "lesson_title_ar": "أنا أقرأ",
        "lesson_sequence_in_unit": 7,
        "teacher_guide_page_start": 31,
        "teacher_guide_page_end": 35,
        "student_book_page_references_ar": "الدرس (١-٥) في كتاب التلميذ، وقصة (أنا أقرأ).",
        "estimated_total_lesson_time_minutes": 90,
        "lesson_objectives_ar": [
          "أن يقرأ التلميذ اسمه المكتوب.",
          "أن يستمع التلميذ إلى قصة (عظمة الكلب) ويفهمها.",
          "أن يقرأ التلميذ قصة (أنا أقرأ) من كتابه بمساعدة المعلم.",
          "أن يردد التلميذ أنشودة (أمي وأبي).",
          "أن يتحدث التلميذ عن صورة (الأسرة في المنزل).",
          "أن يلون التلميذ (العصفور).",
          "أن يتدرب التلميذ على رسم الدائرة باتجاهات صحيحة."
        ],
        "materials_needed_ar": [
          "كتاب التلميذ",
          "بطاقات أسماء (اختياري)",
          "لوح قلاب أو سبورة",
          "صور من قصة (عظمة الكلب) وكتاب (أنا أقرأ)",
          "أقلام تلوين"
        ],
        "teaching_focus_ar": "تعرف الكلمة الشائعة (الاسم)، الاستماع والفهم القرائي، القراءة الموجهة، التعبير الشفهي، مهارات ما قبل الكتابة (الدائرة).",
        "activities": [
          {
            "activity_sequential_id": 1,
            "activity_name_ar": "النشاط (1): الكلمة الشائعة (اسم التلميذ)",
            "activity_type": "WordRecognition",
            "teacher_guide_activity_page": 31,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "خذ كتاب التلميذ في يوم سابق واكتب الاسم الأول لكل تلميذ / تلميذة أسفل الصورة، وفي الوقت نفسه اكتب اسم التلميذ / التلميذة فوق النقاط في القراءة المستقلة النشاط (٥-١).",
              "رحب بالتلاميذ ثم اعرض صورة التلميذ / التلميذة على السبورة أو من اللوح القلاب.",
              "أخبر التلاميذ أن هناك صورة خاصة بالتلميذة، وصورة خاصة بالتلميذه.",
              "م: أشير بإصبعي إلى نفسي وأقول: أنا اسمي (....) ثم أشير إلى الاسم المكتوب على الكتاب، وأحرك إصبعي تحت الصورة أثناء قراءتي ثم أنطق اسمي.",
              "م: أشير إلى أحد التلاميذ وأسأله: هل اسمك ..... ؟ ت: \"لا\". م: ما اسمك؟ ت: ...",
              "م: أكرر ذلك مع ستة أو أكثر من التلاميذ.",
              "م: لقد كتبت اسم كل واحد منكم في الصفحة المخصصة في كتبكم.",
              "م: أختار كتاب أحد التلاميذ، وأشير إلى مكان (الاسم) وأسأله: ما اسمك؟ م: (يذكر التلميذ اسمه).",
              "م: أشير إلى اسم التلميذ المكتوب تحت الصورة وأقول: هكذا يكتب اسمك (.....)، وأطلب إلى التلميذ قراءة اسمه.",
              "م: أكرر ذلك مع عدد من التلاميذ.",
              "م: اطلب إلى التلاميذ الإشارة إلى أسمائهم تحت الصورة ثم قراءتها بشكل فردي.",
              "م: أقوم بممارسة لعبة الكلمة الشائعة: أدوّن الاسم الأول لمجموعة من تلاميذ الصف في بطاقات أو على لوحة بحيث لا يتكرر الاسم أكثر من مرة - وأعرضها على السبورة، ثم أطلب إلى أحد التلاميذ الخروج إلى السبورة والإشارة إلى اسمه من بين الأسماء المعروضة وقراءته.",
              "م: أنفذ الإجراء السابق مع عدد من التلاميذ.",
              "م: أوجه التلاميذ إلى قراءة أسمائهم لأسرهم في البيت."
            ],
            "expected_student_interaction_ar": "يتعرف التلاميذ على أسمائهم المكتوبة ويقرؤونها.",
            "assessment_notes_ar": [
              "ملاحظة قدرة التلاميذ على تمييز وقراءة أسمائهم."
            ]
          },
          {
            "activity_sequential_id": 2,
            "activity_name_ar": "النشاط (2): القصة الاستماعية (عظمة الكلب)",
            "activity_type": "StoryTelling/ListeningComprehension",
            "teacher_guide_activity_page": 31,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "م: اليوم سأحكي لكم قصة ممتعة ومشوقة، وأريد منكم: الجلوس في وضع مناسب ومريح، الإنصات الجيد للقراءة، الإجابة عن الأسئلة التي سأطرحها عليكم بعد حكاية القصة.",
              "احك قصة (عظمة الكلب) كاملة بصوت مرتفع، مراعياً تمثيل المعنى.",
              "احك القصة كاملة مرة أخرى، ثم وجّه إلى التلاميذ الأسئلة الآتية:",
              "تقبل الإجابات المناسبة كافة، وشجع التلاميذ على فهم القصة، وتعلم مفردات جديدة.",
              "اطلب إلى التلاميذ فتح كتبهم على صورة القصة الاستماعية (عظمة الكلب).",
              "اطلب إليهم التحدث عما يشاهدونه في الصورة.",
              "اسمح لمن يرغب منهم حكاية قصة يحفظها.",
              "وجههم إلى حكاية مضمون القصة لأسرهم مستعينين بالصورة."
            ],
            "expected_student_interaction_ar": "يستمع التلاميذ للقصة، يجيبون على الأسئلة، ويتحدثون عن صور القصة.",
            "content_to_deliver_ar": {
              "story_summary": "كان كلب يمشي بجانب بركة ماء، وفي فمه عظمة. نظر الكلب في البركة، فرأى صورته في الماء، وظن أنه كلب آخر، نبح الكلب، فسقطت العظمة في البركة.",
              "discussion_questions": [
                "ماذا كان يحمل الكلب في فمه؟ (ت: عظمة.)",
                "لماذا نبح الكلب عندما رأى صورته في الماء؟ (ت: ظنها كلباً آخر.)",
                "بم تصف الكلب؟ (ت: بالمتسرع. (أو أيّة إجابة معقولة) ذات صلة بقيمة عدم التسرع.)"
              ]
            },
            "assessment_notes_ar": [
              "ملاحظة مدى فهم التلاميذ لأحداث القصة والعبرة منها."
            ]
          },
          {
            "activity_sequential_id": 3,
            "activity_name_ar": "النشاط (3): القصة المستقلة (أنا أقرأ)",
            "activity_type": "GuidedReading",
            "teacher_guide_activity_page": 32,
            "estimated_time_activity_minutes": 15,
            "teacher_instructions_ar": [
              "نفذ خطوة القصة المستقلة من اللوح القلاب مستعيناً بالتعليمات الآتية (من صفحة 33):",
              "اعرض قصة (أنا أقرأ) من اللوح القلاب أمام التلاميذ.",
              "اقرأ قصة (أنا أقرأ) الخاصة بالتلميذ وضع اسمك فوق النقاط، وإذا كنت معلمة ضعي اسمك فوق النقاط في القصة الخاصة بالتلميذة.",
              "أخبر التلاميذ أن هناك قصتين: القصة الأولى تخص التلميذ، والقصة الثانية تخص التلميذة، وأخبرهم بأنك قد سجلت اسم كل تلميذ مكان النقاط في المكان المخصص له داخل القصة.",
              "أخبرهم أنك ستقرأ القصة الخاصة بك، ووجههم لمتابعة القراءة من اللوح القلاب.",
              "مرر المؤشر تحت كل رسمة / صورة في أثناء قراءتها.",
              "اقرأ القصة مع توضيح معاني الرسوم / الصور.",
              "وجه التلاميذ إلى قراءة القصة من كتبهم بصوت منخفض ومسموع، على أن يقرأ كل تلميذ القصة الخاصة به من كتابه بصورة منفردة وبشكل جماعي.",
              "مر بين صفوف التلاميذ، واستمع إلى قراءاتهم فرداً فرداً وإذا سمعت خطأ اقترب من التلميذ وقل له: (دوري) ثم أسمعه القراءة الصحيحة، ثم استمر متابعة التلاميذ الآخرين.",
              "ناقش التلاميذ في محتوى القصة من كتبهم دون استخدام اللوح القلاب، مستعيناً بالأسئلة الآتية:",
              "استمع إلى إجابات التلاميذ، وتقبل الإجابات كافة، مقدماً المساعدة اللازمة.",
              "وجه التلاميذ إلى قراءة قصة (أنا أقرأ) على أسرهم."
            ],
            "expected_student_interaction_ar": "يتابع التلاميذ قراءة المعلم لقصة (أنا أقرأ) ثم يقرؤونها من كتبهم.",
            "content_to_deliver_ar": {
              "story_elements_visuals": "الصور في الكتاب تمثل: كتاب، ولد يقرأ (سعيد)، بنت تقرأ (سعيدة).",
              "discussion_questions_page33": [
                "ماذا تشاهدون في الصورة؟ (ت: كتاباً.)",
                "من صاحب الكتاب؟ (ت: أنا.)",
                "ما اسمك؟ (ت: كل تلميذ يقول اسمه.)"
              ]
            },
            "assessment_notes_ar": [
              "ملاحظة قدرة التلاميذ على متابعة القراءة وتعرف الكلمات البسيطة."
            ]
          },
          {
            "activity_sequential_id": 4,
            "activity_name_ar": "النشاط (4): أنشودة أمي وأبي",
            "activity_type": "Nashid/Chant",
            "teacher_guide_activity_page": 33,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "م: الآن سأقوم بقراءة أنشودة على مسامعكم ملحنة ولابد من مراعاة التوجيهات الآتية: الجلوس في وضع مناسب ومريح، الإنصات الجيد للنشيد، ترديد النشيد معي.",
              "م: أقوم بإسماع التلاميذ النشيد الآتي:",
              "م: الآن سننشد النشيد معاً: أقوم بقراءة النشيد ملحناً والتلاميذ يرددون معي (أكرر النشيد عدة مرات).",
              "م: أطلب إلى التلاميذ ترديد النشيد بمفردهم بصورة جماعية."
            ],
            "expected_student_interaction_ar": "يستمع التلاميذ ويرددون أنشودة (أمي وأبي).",
            "content_to_deliver_ar": {
              "nashid_title": "أمي وأبي",
              "nashid_lyrics": "نبع الحب وهدى دربي\nأمي وأبي دفء القلب\nفاحفظ ربي أمي وأبي"
            },
            "assessment_notes_ar": [
              "ملاحظة مشاركة التلاميذ في ترديد الأنشودة."
            ]
          },
          {
            "activity_sequential_id": 5,
            "activity_name_ar": "النشاط (5): التحدث: (الأسرة في المنزل)",
            "activity_type": "Discussion/OralExpression",
            "teacher_guide_activity_page": 34,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "م: أطلب إليهم فتح كتبهم على صورة التحدث.",
              "ت: التلاميذ يفتحون كتبهم على صورة التحدث.",
              "م: أمر بين التلاميذ للتأكد أنهم فتحوا كتبهم على صورة التحدث.",
              "م: أناقش التلاميذ في مضمون الصورة مستعيناً بالأسئلة الآتية:",
              "م: أوجههم إلى التحدث عن الصورة لأسرهم."
            ],
            "expected_student_interaction_ar": "يتحدث التلاميذ عن الصورة ويجيبون على أسئلة المعلم.",
            "content_to_deliver_ar": {
              "discussion_questions": [
                "ماذا تشاهد في الصورة؟ (ت: الأب، الأم، الولدان، البنت (تقبل إجابات التلاميذ).)",
                "ماذا تفعل الأسرة؟ (ت: تتكلم، تجلس (تقبل أية إجابة مناسبة).)",
                "كم عدد إخواتك؟ (ت: تقبل أية إجابة مناسبة.)",
                "ما واجبنا نحو الأب والأم؟ (ت: تقبل أية إجابة مناسبة (نطيعها، نسمع كلامها).)"
              ]
            },
            "assessment_notes_ar": [
              "تشجيع التلاميذ على التعبير عن أفراد الأسرة وأدوارهم."
            ]
          },
          {
            "activity_sequential_id": 6,
            "activity_name_ar": "النشاط (6): التلوين (العصفور)",
            "activity_type": "Coloring",
            "teacher_guide_activity_page": 34,
            "estimated_time_activity_minutes": 15,
            "teacher_instructions_ar": [
              "م: أطلب إلى التلاميذ الجلوس بطريقة صحيحة، استعداداً للتلوين، وألاحظ طريقة جلوسهم.",
              "م: سنقوم اليوم بتلوين صورة (العصفور).",
              "م: أعرض نموذج تلوين صورة (العصفور) على وسيلة، أو على السبورة.",
              "م: أشير إلى الصورة، وأقول هذه صورة (عصفور) وأكرر ذلك مرتين.",
              "م: سأقوم بتلوين صورة العصفور.",
              "م: ألون صورة العصفور.",
              "م: أطلب إلى التلاميذ فتح كتبهم على الصورة المطلوب تلوينها: (العصفور).",
              "م: الآن: ستقومون بمفردكم بتلوين صورة (العصفور).",
              "م: أوجه التلاميذ إلى مسك الأقلام بطريقة صحيحة وأختار اللون المناسب.",
              "ت: يبدأ التلاميذ بتلوين صورة العصفور.",
              "م: أمر بين التلاميذ لمتابعتهم وتقديم المساعدة اللازمة."
            ],
            "expected_student_interaction_ar": "يلون التلاميذ صورة العصفور.",
            "assessment_notes_ar": [
              "ملاحظة دقة التلوين واختيار الألوان."
            ]
          },
          {
            "activity_sequential_id": 7,
            "activity_name_ar": "النشاط (7): التهيئة الكتابية (الاتجاهات الصحيحة لرسم الدائرة)",
            "activity_type": "PreWriting",
            "teacher_guide_activity_page": 34,
            "estimated_time_activity_minutes": 10,
            "teacher_instructions_ar": [
              "تقديم النشاط: م: أذكر التلاميذ بالمسكة الصحيحة للقلم والجلسة الصحيحة أثناء الكتابة وأقوم بإخراج قلمي، مراعياً الطريقة المناسبة في مسكه أثناء الكتابة، قائلاً: اليوم سنتدرب على رسم شكل (الدائرة)، والاتجاهات الصحيحة لكتابته.",
              "نموذج (دوري) (صفحة 35): م: أمسك قلمي هكذا (أدير ظهري للتلاميذ في أثناء تقديم المثال). م: أحرك قلمي وأبدأ من نقطة البداية في الدائرة من أسفل إلى أعلى بشكل دائري ومن أعلى إلى أسفل بصورة دائرية، ثم من أسفل إلى أعلى. م: أكرر مرة ثانية رسم الدائرة وفي كل مرة أوضح من أين أبدأ وأين أنتهي.",
              "ممارسة موجهة (دورنا) (صفحة 35): م: أوجه التلاميذ إلى فتح كتبهم؛ لتنفيذ نشاط (الدائرة). م: أتأكد من أن كل تلميذ قد فتح كتابه على الصفحة المطلوبة، وأنه يمسك القلم بالطريقة الصحيحة. م: أقول للتلاميذ الآن ستكملون معي وسنصف اتجاهات الكتابة الصحيحة للشكل معاً لفظياً. ت م: أقوم مع التلاميذ برسم الشكل (الدائرة). قائلين معاً: نحرك القلم ونبدأ من نقطة البداية في الدائرة من أسفل إلى أعلى بشكل دائري ومن أعلى إلى أسفل بصورة دائرية، ثم من أسفل إلى أعلى.",
              "ممارسة مستقلة (دوركم) (صفحة 35): م: الآن ستنفذون النشاط بمفردكم مع مراعاة اتجاهات الكتابة للقطعة (الدائرة) ونطق هذه الاتجاهات. ت: يبدأ التلاميذ بتمرير أقلامهم على نقاط الدائرة بصورة فردية وينطقون اتجاهات الكتابة وأمر للمتابعة، وتقديم الدعم.",
              "تطبيق (صفحة 35): م: أطلب إلى التلاميذ ممارسة تمرير أقلامهم فوق النقاط لرسم دائرة فإذا لاحظت قصوراً لدى تلميذ عند المتابعة والتصويب أوظف أسلوب: (دوري، دوركم). م: أوجه التلاميذ إلى تطبيق ما تدربوا عليه في منازلهم."
            ],
            "expected_student_interaction_ar": "يتدربون على رسم الدائرة باتباع النقاط والاتجاهات الصحيحة.",
            "assessment_notes_ar": [
              "ملاحظة قدرة التلاميذ على رسم الدائرة بشكل صحيح."
            ],
            "pedagogical_notes_ar": "هذا النشاط يمتد إلى صفحة 35 من دليل المعلم."
          }
        ]
      }
    ]
  }

  // ... more units if any
];



const initialNumeracyProgramData = [
    // PASTE YOUR FULL NUMERACY PROGRAM JSON DATA HERE
    // Example:
    /*
    {
        "unit_id": "وحدة الأرقام الأولى",
        "unit_title_ar": "وحدة الأرقام الأولى",
        "unit_number": 1,
        "teacher_guide_unit_page_start": 5,
        "unit_objectives_ar": ["يتعرف الأرقام من 1 إلى 5.", "يعد الأشياء حتى 5."],
        "lessons": [
            {
                "lesson_id": "N-1-1",
                "lesson_title_ar": "التعرف على الرقم 1",
                // ... other lesson properties and activities
            }
        ]
    }
    */
];


/**
 * Initializes the Dexie database and defines its schema.
 */
function initializeDatabase() {
    db = new Dexie("TeacherAppDB");

    // Ensure you increment this version if you make schema changes after the DB has been created once.
    db.version(2).stores({
        teachers: 'teacher_id, email',
        schools: 'school_id, school_name',
        classes: 'class_id, teacher_id, academic_year, grade_level',
        students: 'student_id, class_id, full_name, gender',
        programUnits: 'unit_id, unit_number, program_type',
        programLessons: 'lesson_id, unit_id, lesson_sequence_in_unit',
        lessonActivities: 'activity_id, lesson_id, activity_sequential_id',
        lessonImplementations: 'implementation_id, class_id, lesson_id, teacher_id, implementation_date, [class_id+lesson_id]',
        studentProgress: 'progress_id, student_id, lesson_id, activity_id, date_recorded, [student_id+lesson_id], [student_id+activity_id]',
        studentActivityPerformance: 'activity_performance_id, student_id, activity_id, implementation_id, date_recorded, [student_id+activity_id]'
    });

    db.on('populate', function() {
        console.log("Database populate event: Use this to add default data if needed for a brand new database or after a version upgrade with this hook.");
    });

    return db.open().then(async function() {
        console.log("Database initialized and opened successfully.");
        await seedInitialProgramDataIfNeeded();
    }).catch(function(err) {
        console.error("Failed to open DB: " + (err.stack || err));
        alert("Critical error: Could not initialize the local database. Some features might not work.");
        throw err;
    });



}

/**
 * Seeds the database with initial program content if no program units exist.
 */
async function seedInitialProgramDataIfNeeded() {
   if (!db) {
       console.error("Database not initialized for seeding.");
       return;
     }
    try {
        const unitCount = await db.programUnits.count();
        if (unitCount === 0) {
            console.log("No program units found. Seeding initial program data...");
            if (initialReadingProgramData && initialReadingProgramData.length > 0) {
                await loadProgramContent(initialReadingProgramData, "Reading");
                console.log("Initial Reading program data seeded.");
            } else {
                console.warn("No initial Reading program data provided or data is empty.");
            }

            if (initialNumeracyProgramData && initialNumeracyProgramData.length > 0) {
                await loadProgramContent(initialNumeracyProgramData, "Numeracy");
                console.log("Initial Numeracy program data seeded.");
            } else {
                console.warn("No initial Numeracy program data provided or data is empty.");
            }
            // Only alert if data was actually attempted to be loaded
            if ((initialReadingProgramData && initialReadingProgramData.length > 0) || (initialNumeracyProgramData && initialNumeracyProgramData.length > 0)) {
                alert("Initial program content has been loaded into the application.");
            }
        } else {
            console.log("Program data already exists. Skipping seed.");
        }
    } catch (error) {
        console.error("Error seeding initial program data:", error);
        alert("An error occurred while setting up initial program content: " + error.message);
    }
}

/**
 * Generates a simple UUID v4.
 * @returns {string} A UUID string.
 */
function generateUUID() {
    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
        var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
        return v.toString(16);
    });
}

/**
 * Loads program content (units, lessons, activities) from a JSON structure into the database.
 * This function is idempotent; it will update existing entries or add new ones based on IDs.
 * @param {Array<Object>} programDataArray - An array of unit objects.
 * @param {string} programType - e.g., "Reading", "Numeracy".
 */
async function loadProgramContent(programDataArray, programType) {


    if (!db) {
        console.error("Database not initialized. Call initializeDatabase() first.");
        alert("Database not ready. Please try again after a moment.");
        return;
    }

    try {
        await db.transaction('rw', db.programUnits, db.programLessons, db.lessonActivities, async () => {
            for (const unitData of programDataArray) {
                const unit = {
                    unit_id: unitData.unit_id,
                    unit_number: parseInt(unitData.unit_number, 10),
                    unit_title_ar: unitData.unit_title_ar,
                    teacher_guide_unit_page_start: parseInt(unitData.teacher_guide_unit_page_start, 10),
                    unit_objectives_ar: unitData.unit_objectives_ar,
                    program_type: programType,
                    created_at: new Date(),
                    updated_at: new Date()
                };
                await db.programUnits.put(unit);

                if (unitData.lessons && Array.isArray(unitData.lessons)) {
                    for (const lessonData of unitData.lessons) {
                        const lesson = {
                            lesson_id: lessonData.lesson_id,
                            unit_id: unit.unit_id,
                            lesson_sequence_in_unit: parseInt(lessonData.lesson_sequence_in_unit, 10),
                            lesson_title_ar: lessonData.lesson_title_ar,
                            teacher_guide_page_start: parseInt(lessonData.teacher_guide_page_start, 10),
                            teacher_guide_page_end: parseInt(lessonData.teacher_guide_page_end, 10),
                            student_book_page_references_ar: lessonData.student_book_page_references_ar,
                            estimated_total_lesson_time_minutes: parseInt(lessonData.estimated_total_lesson_time_minutes, 10),
                            lesson_objectives_ar: lessonData.lesson_objectives_ar,
                            materials_needed_ar: lessonData.materials_needed_ar,
                            teaching_focus_ar: lessonData.teaching_focus_ar,
                            created_at: new Date(),
                            updated_at: new Date()
                        };
                        await db.programLessons.put(lesson);

                        if (lessonData.activities && Array.isArray(lessonData.activities)) {
                            for (const activityData of lessonData.activities) {
                                let activityId = `${lesson.lesson_id}-${activityData.activity_sequential_id}`;
                                const activity = {
                                    activity_id: activityId,
                                    lesson_id: lesson.lesson_id,
                                    activity_sequential_id: parseInt(activityData.activity_sequential_id, 10),
                                    activity_name_ar: activityData.activity_name_ar,
                                    activity_type: activityData.activity_type,
                                    teacher_guide_activity_page: parseInt(activityData.teacher_guide_activity_page, 10),
                                    estimated_time_activity_minutes: parseInt(activityData.estimated_time_activity_minutes, 10),
                                    teacher_instructions_ar: activityData.teacher_instructions_ar,
                                    expected_student_interaction_ar: activityData.expected_student_interaction_ar,
                                    assessment_notes_ar: activityData.assessment_notes_ar,
                                    pedagogical_notes_ar: activityData.pedagogical_notes_ar || null,
                                    classroom_management_tips_ar: activityData.classroom_management_tips_ar || null,
                                    content_to_deliver_ar: activityData.content_to_deliver_ar || null,
                                    created_at: new Date(),
                                    updated_at: new Date()
                                };
                                await db.lessonActivities.put(activity);
                            }
                        }
                    }
                }
            }
        });
        console.log(`Program content for '${programType}' loaded/updated successfully.`);
        // Consider if this alert is too intrusive, especially if called automatically.
        // alert(`Program content for '${programType}' loaded/updated successfully.`);
    } catch (error) {
        console.error("Error loading program content:", error);
        alert(`Error loading program content: ${error.message}`);
    }
}

// --- CRUD Functions ---

// Teachers
async function addTeacher(teacherData) {
    const existingTeacherByEmail = await db.teachers.where('email').equals(teacherData.email).first();
    // If an existing teacher is found by email, AND
    // (either the input teacherData has no ID OR the found teacher's ID is different from input teacherData's ID)
    // then it's a conflict.
    if (existingTeacherByEmail && (!teacherData.teacher_id || existingTeacherByEmail.teacher_id !== teacherData.teacher_id)) {
        alert("Teacher with this email already exists for a different profile.");
        return null; // Indicate failure
    }

    teacherData.teacher_id = teacherData.teacher_id || generateUUID();
    teacherData.created_at = teacherData.created_at || new Date(); // Preserve created_at if updating
    teacherData.updated_at = new Date();

    const id = await db.teachers.put(teacherData);
    return db.teachers.get(id); // Return the full teacher object
}

async function getTeacher(teacher_id) {
    return db.teachers.get(teacher_id);
}

async function getAllTeachers() {
    return db.teachers.toArray();
}

async function updateTeacher(teacher_id, updates) { // This function might be redundant if addTeacher handles updates well
    updates.updated_at = new Date();
    await db.teachers.update(teacher_id, updates);
    return db.teachers.get(teacher_id);
}

async function deleteTeacher(teacher_id) {
    // Consider cascading deletes or handling related data (classes, etc.)
    // For now, just deleting the teacher.
    return db.teachers.delete(teacher_id);
}

// Schools (Optional)
async function addSchool(schoolData) {
    schoolData.school_id = schoolData.school_id || generateUUID();
    schoolData.created_at = new Date();
    return db.schools.add(schoolData);
}
async function getSchool(school_id) { return db.schools.get(school_id); }
async function getAllSchools() { return db.schools.toArray(); }

// Classes
async function addClass(classData) {
    classData.class_id = classData.class_id || generateUUID();
    classData.created_at = new Date();
    return db.classes.add(classData);
}
async function getClassesForTeacher(teacher_id) { return db.classes.where('teacher_id').equals(teacher_id).sortBy('class_name'); }
async function getClassById(class_id) { return db.classes.get(class_id); }
async function updateClass(class_id, updates) { return db.classes.update(class_id, updates); }
async function deleteClass(class_id) {
    await db.transaction('rw', db.classes, db.students, db.lessonImplementations, db.studentActivityPerformance, db.studentProgress, async () => {
        // Get students of the class to delete their individual progress
        const studentsInClass = await db.students.where('class_id').equals(class_id).toArray();
        for (const student of studentsInClass) {
            await db.studentProgress.where('student_id').equals(student.student_id).delete();
            await db.studentActivityPerformance.where('student_id').equals(student.student_id).delete();
        }
        // Delete students in the class
        await db.students.where('class_id').equals(class_id).delete();

        // Get implementations for the class to delete related activity performances
        const implementationsInClass = await db.lessonImplementations.where('class_id').equals(class_id).toArray();
        for (const impl of implementationsInClass) {
            await db.studentActivityPerformance.where('implementation_id').equals(impl.implementation_id).delete();
        }
        // Delete lesson implementations for the class
        await db.lessonImplementations.where('class_id').equals(class_id).delete();

        // Finally, delete the class
        await db.classes.delete(class_id);
    });
}

// Students
async function addStudent(studentData) {
    studentData.student_id = studentData.student_id || generateUUID();
    studentData.created_at = new Date();
    studentData.updated_at = new Date();
    return db.students.add(studentData);
}
async function getStudentsInClass(class_id) { return db.students.where('class_id').equals(class_id).sortBy('full_name'); }
async function getStudentById(student_id) { return db.students.get(student_id); }
async function updateStudent(student_id, updates) {
    updates.updated_at = new Date();
    return db.students.update(student_id, updates);
}
async function deleteStudent(student_id) {
    await db.transaction('rw', db.students, db.studentProgress, db.studentActivityPerformance, async () => {
        await db.studentProgress.where('student_id').equals(student_id).delete();
        await db.studentActivityPerformance.where('student_id').equals(student_id).delete();
        await db.students.delete(student_id);
    });
}

// Program Content Access
async function getProgramUnits(programType) { return db.programUnits.where('program_type').equals(programType).sortBy('unit_number'); }
async function getProgramUnit(unit_id) { return db.programUnits.get(unit_id); }
async function getLessonsForUnit(unit_id) { return db.programLessons.where('unit_id').equals(unit_id).sortBy('lesson_sequence_in_unit'); }
async function getLesson(lesson_id) { return db.programLessons.get(lesson_id); }
async function getActivitiesForLesson(lesson_id) { return db.lessonActivities.where('lesson_id').equals(lesson_id).sortBy('activity_sequential_id'); }
async function getActivity(activity_id) { return db.lessonActivities.get(activity_id); }

// Lesson Implementations
async function addLessonImplementation(implData) {
    implData.implementation_id = implData.implementation_id || generateUUID();
    implData.created_at = new Date();
    implData.updated_at = new Date();
    return db.lessonImplementations.add(implData);
}
async function getLessonImplementations(class_id, lesson_id) { // Get specific implementations
    return db.lessonImplementations.where({ class_id: class_id, lesson_id: lesson_id }).sortBy('implementation_date');
}
async function getLessonImplementationById(implementation_id) { return db.lessonImplementations.get(implementation_id); }
async function updateLessonImplementation(implementation_id, updates) {
    updates.updated_at = new Date();
    return db.lessonImplementations.update(implementation_id, updates);
}
async function getImplementationsForClass(class_id) { // Get all implementations for a class
    return db.lessonImplementations.where('class_id').equals(class_id).sortBy('implementation_date');
}
async function getImplementationsForLessonInClass(class_id, lesson_id) {
    return db.lessonImplementations.where({ class_id: class_id, lesson_id: lesson_id }).sortBy('implementation_date');
}


// Student Activity Performance
async function recordStudentActivityPerformance(perfData) {
    perfData.activity_performance_id = perfData.activity_performance_id || generateUUID();
    perfData.date_recorded = new Date();
    perfData.created_at = perfData.created_at || new Date();
    perfData.updated_at = new Date();
    return db.studentActivityPerformance.put(perfData); // Use put for add or update
}
async function getStudentActivityPerformance(student_id, activity_id) { // All performances for a student on an activity
    return db.studentActivityPerformance.where({ student_id: student_id, activity_id: activity_id }).sortBy('date_recorded');
}
async function getStudentPerformanceForActivityInImplementation(student_id, activity_id, implementation_id) {
    return db.studentActivityPerformance
        .where({ student_id: student_id, activity_id: activity_id, implementation_id: implementation_id })
        .first();
}
async function getActivityPerformanceForImplementation(implementation_id) { // All performances for a specific implementation instance
    return db.studentActivityPerformance.where('implementation_id').equals(implementation_id).toArray();
}
async function getAllActivityPerformancesForStudent(student_id) { // All performances for a student across all activities
    return db.studentActivityPerformance.where('student_id').equals(student_id).toArray();
}

// Student Progress (General Objective Level - if used differently from activity performance)
async function recordStudentProgress(progressData) {
    progressData.progress_id = progressData.progress_id || generateUUID();
    progressData.date_recorded = new Date();
    progressData.created_at = progressData.created_at || new Date();
    progressData.updated_at = new Date();
    return db.studentProgress.put(progressData); // Use put for add or update
}
async function getStudentProgressForLesson(student_id, lesson_id) {
    return db.studentProgress.where({ student_id: student_id, lesson_id: lesson_id }).sortBy('date_recorded');
}
async function getAllProgressForStudent(student_id) {
    return db.studentProgress.where('student_id').equals(student_id).toArray();
}

// --- Utility functions ---
function getCurrentTeacherId() {
    // This should ideally come from a more robust session management.
    // For now, it relies on localStorage set during setup/login.
    const teacherId = localStorage.getItem('currentTeacherId');
    if (!teacherId) {
        console.warn("getCurrentTeacherId(): No teacher ID found in localStorage.");
    }
    return teacherId;
}

console.log("teachersdataapi.js loaded. Call initializeDatabase() from your main app script.");
